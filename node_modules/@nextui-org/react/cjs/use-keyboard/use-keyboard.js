exports.__esModule=!0,exports.default=void 0;var e=require("./codes"),t=require("react"),r=require("./helper");var o=(o,n,s={})=>{const a=Array.isArray(n)?n:[n],{disableGlobalEvent:p=!1,capture:d=!1,stopPropagation:l=!1,preventDefault:u=!1,event:y="keydown"}=s,i=(0,r.getActiveModMap)(a),f=a.filter((t=>!e.KeyMod[t])),{CtrlCmd:v,WinCtrl:C}=(0,r.getCtrlKeysByPlatform)(),c=e=>{i.Shift&&!e.shiftKey||i.Alt&&!e.altKey||i.CtrlCmd&&!e[v]||i.WinCtrl&&!e[C]||f.length>0&&!f.includes(e.keyCode)||(l&&e.stopPropagation(),u&&e.preventDefault(),o&&o(e))};(0,t.useEffect)((()=>(p||document.addEventListener(y,c),()=>{document.removeEventListener(y,c)})),[p]);const K=(e,t=!1)=>e!==y||t!==d?()=>{}:e=>c(e);return{bindings:{onKeyDown:K("keydown"),onKeyDownCapture:K("keydown",!0),onKeyPress:K("keypress"),onKeyPressCapture:K("keypress",!0),onKeyUp:K("keyup"),onKeyUpCapture:K("keyup",!0)}}};exports.default=o,module.exports=exports.default;