var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var u={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(u,l,o):u[l]=e[l]}u.default=e,r&&r.set(e,u);return u}(require("react")),r=e(require("../utils/with-defaults")),u=e(require("../utils/css-transition")),n=require("../utils/collections"),l=e(require("./modal-close-button")),o=require("../use-keyboard"),a=e(require("../use-theme")),s=require("./modal.styles"),i=e(require("../utils/clsx")),c=require("react/jsx-runtime");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}const f="nextui-modal",m=({className:e,children:r,visible:d,fullScreen:m,closeButton:b,rebound:p,animated:x,onCloseButtonClick:y,scroll:h,...v})=>{const j=(0,t.useRef)(null),q=(0,t.useRef)(null),w=(0,t.useRef)(null),[M,k]=(0,t.useState)(!1),{isDark:T}=(0,a.default)();(0,t.useEffect)((()=>{const e=setTimeout((()=>{k(!0),clearTimeout(e)}),300);return()=>clearTimeout(e)}),[]),(0,t.useEffect)((()=>{if(!d)return;const e=document.activeElement;(0,n.isChildElement)(j.current,e)||q.current&&q.current.focus()}),[d]);const $=e=>{const t=e.keyCode===o.KeyCode.Tab;if(!d||!t)return;const r=document.activeElement;e.shiftKey?r===q.current&&w.current&&w.current.focus():r===w.current&&q.current&&q.current.focus()},O=()=>{y&&y()},g=(0,t.useMemo)((()=>d?"open":"closed"),[d]),S=(0,t.useMemo)((()=>(0,c.jsxs)(s.StyledModal,{role:"dialog",tabIndex:-1,"aria-modal":d,ref:j,"data-state":g,fullScreen:m,scroll:h,closeButton:b,isDark:T,className:(0,i.default)(f,`${f}--${g}`,{[`${f}-fullscreen`]:m,[`${f}-with-close-button`]:b,[`${f}-rebound`]:p,[`${f}-rendered`]:M},e),...v,onKeyDown:$,children:[(0,c.jsx)(s.StyledModalHideTab,{role:"button",tabIndex:0,className:`${f}-hide-tab`,"aria-hidden":"true",ref:q}),b&&(0,c.jsx)(l.default,{onClick:O}),r,(0,c.jsx)(s.StyledModalHideTab,{role:"button",tabIndex:0,className:`${f}-hide-tab`,"aria-hidden":"true",ref:w})]})),[p,r]);return(0,c.jsx)(c.Fragment,{children:x?(0,c.jsx)(u.default,{name:`${f}-wrapper`,visible:d,enterTime:20,leaveTime:20,clearTime:300,children:S}):d?S:null})};m.toString=()=>".nextui-modal-wrapper";var b=(0,r.default)(m,{className:"",visible:!1,rebound:!1});exports.default=b,module.exports=exports.default;