var e=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var t=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=n?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(r,l,s):r[l]=e[l]}r.default=e,a&&a.set(e,r);return r}(require("react")),a=e(require("./avatar.styles")),r=e(require("../utils/clsx")),n=require("react/jsx-runtime");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}const l=e=>(null==e?void 0:e.length)<=4?e:null==e?void 0:e.slice(0,3),s=({src:e,text:u,icon:s,alt:i,className:o,...c})=>{const f=!e,[d,p]=(0,t.useState)(!1),v=(0,t.useRef)(null);(0,t.useEffect)((()=>{var e;(null==v||null==(e=v.current)?void 0:e.complete)&&p(!0)}),[]);const x=(0,t.useMemo)((()=>!d&&e?"loading":"ready"),[e,d]);return(0,n.jsxs)(a.default,{className:(0,r.default)({"only-text-avatar":f},o),"data-state":x,...c,children:[(0,n.jsx)("span",{className:"nextui-avatar-bg"}),!f&&(0,n.jsx)("img",{ref:v,className:(0,r.default)("nextui-avatar-img",`nextui-avatar--${x}`,{"nextui-avatar-ready":d}),src:e,alt:i,"data-state":x,onLoad:()=>p(!0)}),f&&!s&&u&&(0,n.jsx)("span",{className:"nextui-avatar-text",children:l(u)}),s&&(0,n.jsx)("span",{className:"nextui-avatar-icon",children:s})]})};s.toString=()=>".nextui-avatar";var i=s;exports.default=i,module.exports=exports.default;