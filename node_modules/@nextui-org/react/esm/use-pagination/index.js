import{useMemo as t,useCallback as r,useState as e}from"react";import{range as n}from"../utils/numbers";export const DOTS="dots";export default({page:i,total:a,siblings:o=1,boundaries:s=1,initialPage:u=1,onChange:f})=>{const[m,c]=e(i||u),g=t=>{c(t),f&&f(t)},l=r((t=>{g(t<=0?1:t>a?a:t)}),[a]);return{range:t((()=>{if(2*o+3+2*s>=a)return n(1,a);const t=Math.max(m-o,s),r=Math.min(m+o,a-s),e=t>s+2,i=r<a-(s+1);if(!e&&i){return[...n(1,2*o+s+2),DOTS,...n(a-(s-1),a)]}if(e&&!i){const t=s+1+2*o;return[...n(1,s),DOTS,...n(a-t,a)]}return[...n(1,s),DOTS,...n(t,r),DOTS,...n(a-s+1,a)]}),[a,o,m]),active:m,setPage:l,next:()=>l(m+1),previous:()=>l(m-1),first:()=>l(1),last:()=>l(a)}};