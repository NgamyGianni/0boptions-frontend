import e,{useCallback as a,useEffect as t,useMemo as i,useState as c}from"react";import{useCheckbox as n}from"./checkbox-context";import o from"../use-warning";import d,{KeyCode as l}from"../use-keyboard";import{StyledCheckboxLabel as s,StyledCheckboxContainer as r,StyledCheckboxInput as m,StyledCheckboxMask as u,StyledIconCheck as h,StyledIconCheckFirstLine as x,StyledIconCheckSecondLine as b,StyledCheckboxText as k}from"./checkbox.styles";import p from"../utils/clsx";import{__DEV__ as f}from"../utils/assertion";import{jsx as v}from"react/jsx-runtime";import{jsxs as N}from"react/jsx-runtime";const C=({checked:e,initialChecked:C,line:g,rounded:j,indeterminate:z,disabled:D,onChange:y,size:E,className:I,children:P,label:S,color:w,labelColor:G,animated:A,value:R,preventDefault:U,...$})=>{const[q,B]=c(C),{color:F,labelColor:H,size:J,updateState:K,inGroup:L,disabledAll:M,values:O}=n(),Q=L&&M||D,T="default"!==w?w:F,V="md"!==E?E:J,W="default"!==G?G:H;f&&L&&e&&o('Remove props "checked" when [Checkbox] component is in the group.',"Checkbox"),L&&t((()=>{const e=O.includes(R);e!==q&&B(e)}),[O.join(",")]);const X=a((e=>{if(Q)return;const a={target:{checked:!q},stopPropagation:e.stopPropagation,preventDefault:e.preventDefault,nativeEvent:e};L&&K&&K&&K(R,!q),B(!q),y&&y(a)}),[K,y,Q,q]);t((()=>{void 0!==e&&B(e)}),[e]);const{bindings:Y}=d((e=>{X(e)}),[l.Enter,l.Space],{disableGlobalEvent:!0,preventDefault:U}),Z=i((()=>q&&z?"mixed":q?"checked":"uncheked"),[q,z]);return N(s,{size:V,disabled:Q,animated:A,className:p("nextui-checkbox-label",`nextui-checkbox--${Z}`,I),css:$.css,children:[N(r,{className:"nextui-checkbox-container",tabIndex:Q?-1:0,color:T,rounded:j,disabled:Q,animated:A,...Y,children:[v(m,{type:"checkbox",className:"nextui-checkbox-input",tabIndex:-1,"data-state":Z,disabled:Q,checked:q,"aria-checked":q&&z?"mixed":q,"aria-disabled":Q,onChange:X,...$}),v(u,{checked:q,animated:A,className:"nextui-checkbox-mask",children:N(h,{size:V,indeterminate:z,checked:q,animated:A,className:"nextui-icon-check",children:[v(x,{indeterminate:z,checked:q,animated:A,className:"nextui-icon-check-line1"}),v(b,{indeterminate:z,checked:q,animated:A,className:"nextui-icon-check-line2"})]})})]}),(P||S)&&v(k,{className:"nextui-checkbox-text",color:W,line:g,checked:q,disabled:Q,animated:A,children:P||S})]})};C.defaultProps={value:"",size:"md",color:"default",labelColor:"default",disabled:!1,preventDefault:!0,initialChecked:!1,indeterminate:!1,rounded:!1,line:!1,animated:!0,className:""},C.toString=()=>".nextui-checkbox",f&&(C.displayName="NextUI - Checkbox");export default C;