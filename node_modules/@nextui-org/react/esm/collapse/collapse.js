import e,{useEffect as t,useMemo as i}from"react";import r from"./collapse-icon";import a from"../utils/expand";import{useCollapseContext as d}from"./collapse-context";import o from"../use-current-state";import l from"../use-warning";import n from"../use-theme";import{useId as s}from"@react-aria/utils";import c,{KeyCode as m}from"../use-keyboard";import{StyledCollapse as p,StyledCollapseView as u,StyledCollapseContent as f}from"./collapse.styles";import h from"../utils/clsx";import b from"../utils/with-defaults";import{jsx as v}from"react/jsx-runtime";import{jsxs as x}from"react/jsx-runtime";const w="nextui-collapse",N=({children:b,title:N,subtitle:$,expanded:g,shadow:j,className:D,divider:k,arrowIcon:E,showArrow:I,disabled:y,onChange:C,bordered:A,contentLeft:S,preventDefault:V,animated:W,borderWeight:q,index:G,...L})=>{const[z,B,F]=o(g),{isDark:H}=n(),{values:J,divider:K,animated:M,updateValues:O}=d();N||l('"title" is required.',"Collapse"),t((()=>{z!==g&&B(g)}),[g]),t((()=>{if(!J.length)return;const e=!!J.find((e=>e===G));B(e)}),[J.join(",")]);const P=s(),Q=s(),R=i((()=>I?E||v(r,{}):null),[E,I]),T=void 0===K?k:K,U=i((()=>void 0===M?W:M),[M,W]),X=e=>{if(y)return;const t=!F.current;B(t),O&&O(G,t),C&&C(e,G,t)},{bindings:Y}=c((e=>{X(e)}),[m.Enter,m.Space],{disableGlobalEvent:!0,preventDefault:V}),Z=i((()=>z?"open":"closed"),[z]);return x(p,{tabIndex:y?-1:0,shadow:j,bordered:A,animated:U,divider:T,borderWeight:q,visible:z,"data-state":Z,className:h(D,w,`${w}--${Z}`),isDark:H,...L,...Y,children:[v(u,{role:"button",tabIndex:-1,id:P,className:`${w}-view`,"data-state":Z,disabled:y,"aria-disabled":y,"aria-expanded":z,"aria-controls":Q,onClick:X,children:x("div",{className:h(`${w}-title-container`),children:[S&&v("div",{className:`${w}-title-content-left`,children:S}),x("div",{className:`${w}-title-content`,children:[e.isValidElement(N)?N:v("h3",{className:`${w}-title`,children:N}),$&&v("div",{className:`${w}-subtitle`,children:$})]}),v("div",{className:`${w}-title-content-right`,children:R})]})}),v(a,{isExpanded:z,animated:U,children:v(f,{role:"region",tabIndex:-1,id:Q,"aria-labelledby":P,className:`${w}-content`,children:b})})]})};N.toString=()=>".nextui-collapse";export default b(N,{shadow:!1,divider:!0,bordered:!1,showArrow:!0,animated:!0,disabled:!1,preventDefault:!0,expanded:!1});