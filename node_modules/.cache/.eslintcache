[{"/Users/gianningamy/cryptobet/front-end/master/src/index.jsx":"1","/Users/gianningamy/cryptobet/front-end/master/src/App.jsx":"2","/Users/gianningamy/cryptobet/front-end/master/src/Pages/Homepage.jsx":"3","/Users/gianningamy/cryptobet/front-end/master/src/Components/Navbar.jsx":"4","/Users/gianningamy/cryptobet/front-end/master/src/Components/Portfolio.jsx":"5","/Users/gianningamy/cryptobet/front-end/master/src/Components/Betting.jsx":"6","/Users/gianningamy/cryptobet/front-end/master/src/Components/CurrentGame.jsx":"7","/Users/gianningamy/cryptobet/front-end/master/src/Components/PreviousGame.jsx":"8","/Users/gianningamy/cryptobet/front-end/master/src/Pages/Profile.jsx":"9"},{"size":295,"mtime":1638791472529,"results":"10","hashOfConfig":"11"},{"size":361,"mtime":1639149161512,"results":"12","hashOfConfig":"11"},{"size":11352,"mtime":1639227221952,"results":"13","hashOfConfig":"11"},{"size":1992,"mtime":1639330314872,"results":"14","hashOfConfig":"11"},{"size":1369,"mtime":1639155172167,"results":"15","hashOfConfig":"11"},{"size":14496,"mtime":1639168146995,"results":"16","hashOfConfig":"11"},{"size":12374,"mtime":1639167413724,"results":"17","hashOfConfig":"11"},{"size":12109,"mtime":1639167466451,"results":"18","hashOfConfig":"11"},{"size":12905,"mtime":1639227236146,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"okoyb7",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"22"},"/Users/gianningamy/cryptobet/front-end/master/src/index.jsx",[],["45","46"],"/Users/gianningamy/cryptobet/front-end/master/src/App.jsx",[],"/Users/gianningamy/cryptobet/front-end/master/src/Pages/Homepage.jsx",["47","48","49","50"],"import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Betting from \"../Components/Betting\"\nimport CurrentGame from \"../Components/CurrentGame\"\nimport PreviousGame from \"../Components/PreviousGame\"\nimport Navbar from \"../Components/Navbar\"\nimport Web3 from 'web3'\n\nconst Homepage = () => {\n\tconst web3 = new Web3(window.ethereum);\n\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\tconst [userInfos, setUserInfos] = useState({account: \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\",\n\t\t\t\t\tbalance: \"0\",\n\t\t\t\t\tnetwork: \"Not connected\",\n\t\t\t\t\tcontract: \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\",\n\t\t\t\t});\n\tconst [idCurrentGame, setIdCurrentGame] = useState({\n\t\tprevious: 0,\n\t\tcurrent: 0,\n\t\tnext: 0\n\t});\n\tconst [selectedAccount, setSelectedAccount] = useState(\"\");\n\n\tasync function logAccount(){\n\t\tlet provider = window.ethereum;\n\n\t\tif (typeof provider !== 'undefined') {\n\t\t\tawait provider\n\t\t\t\t.request({ method: 'eth_requestAccounts' })\n\t\t\t\t\t.then((accounts) => {\n\t\t\t\t\tsetSelectedAccount(accounts[0]);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\tawait window.ethereum.on('accountsChanged', function (accounts) {\n\t\t\t\tsetSelectedAccount(accounts[0]);\n\t\t\t});\n\t\t\t\n\t\t\tif(selectedAccount !== \"\"){\n\n\t\t\t\tvar rewardList = await contract.methods.getUserAvailableWins(selectedAccount).call();\n\t\t\t\tvar reward = 0;\n\t\t\t\tvar game;\n\t\t\t\tvar user;\n\n\t\t\t\tfor(var i=0; i<rewardList.length; i++){\n\t\t\t\t\tif(rewardList[i] > 0){\n\t\t\t\t\t\tawait contract.methods.Games(rewardList[i]).call()\n\t\t\t\t\t\t\t.then(function(receipt){\n\t\t\t\t\t\t\t\tgame = receipt;\n\t\t\t\t\t\t\t});\t\n\n\t\t\t\t\t\tuser = await contract.methods.users(rewardList[i], userInfos.account).call()\n\t\t\t\t\t\treward += (user.amount*game.rewardAmount)/game.rewardPoolAmount\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsetUserInfos({\n\t\t\t\t\taccount: selectedAccount,\n\t\t\t\t\trewards: parseFloat(await web3.utils.fromWei(String(reward), 'ether')).toFixed(3),\n\t\t\t\t\tbalance: await web3.utils.fromWei(await web3.eth.getBalance(selectedAccount), 'ether'),\n\t\t\t\t\tnetwork: await web3.eth.net.getId(),\n\t\t\t\t\tcontract: \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\",\n\t\t\t\t\tstatus: \"connected\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tasync function getData(){\n\t\t\tawait contract.methods.currentGameId.call().call()\n\t\t\t\t.then(function(receipt){\n\t\t\t\t\tsetIdCurrentGame({\n\t\t\t\t\t\tprevious: parseInt(receipt)-1,\n\t\t\t\t\t\tcurrent: parseInt(receipt),\n\t\t\t\t\t\tnext: parseInt(receipt)+1\n\t\t\t\t\t});\n\t\t\t\t});\n\t}\n\n\tasync function reward(){\n\t\tif(userInfos.network == \"137\")\tawait contract.methods.reward(await contract.methods.getUserWins(selectedAccount).call()).send({from: selectedAccount});\n\t}\n\n\tuseEffect(() => {\n\t\tlogAccount();\n\t\tsetTimeout(() => {  getData(); }, 1000);\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on(\"chainChanged\", () => {\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t\twindow.ethereum.on(\"accountsChanged\", () => {\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t}\n\t}, [selectedAccount, idCurrentGame])\n\treturn (\n\t\t<Main>\n\t\t\t<Navbar userInfos={userInfos} page=\"Homepage\"/>\n\t\t\t<Container>\n\t\t\t\t<PreviousGame userInfos={userInfos} idCurrentGame={idCurrentGame.previous}/>\n\t\t\t\t<CurrentGame userInfos={userInfos} idCurrentGame={idCurrentGame.current}/>\n\t\t\t\t<Betting userInfos={userInfos} idCurrentGame={idCurrentGame.next}/>\n\t\t\t</Container>\n\t\t\t<Reward>\n\t\t\t\t<RewardText>{userInfos.rewards > 0 ? userInfos.rewards: 0} MATIC</RewardText>\n\t\t\t\t<RewardButton onClick={() => reward()}>Collect rewards</RewardButton>\n\t\t\t</Reward>\n\t\t</Main>\n\t)\n}\n\nconst Main = styled.main`\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: #212429;\n`\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tgap: 5%;\n`\n\nconst LoginButton = styled.button`\n\tcolor: rgb(149, 177, 254);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-family: Inter,sans-serif;\n`\n\nconst Reward = styled.div`\n\tmargin-left: 40%;\n\tmargin-top: 11%;\n\tgrid-area: reward;\n\tbackground-color: #191b1f;\n\tborder: 1px solid #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 20%;\n\talign-items: center;\n`\n\nconst RewardText = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-family: Inter,sans-serif;\n`\n\nconst RewardButton = styled.button`\n\tfont-size: 100%;\n\tcolor: rgb(84, 36, 50);\n\tfont-family: 'Inter custom',sans-serif;\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 16px;\n\twidth:  100%;\n\tfont-weight: 500;\n\ttext-align: center;\n\tborder-radius: 20px;\n\toutline: none;\n\tborder: 1px solid #191b1f;\n\ttext-decoration: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tcursor: pointer;\n\tposition: relative;\n\tz-index: 1;\n\t&:disabled {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\t}\n\n\twill-change: transform;\n\ttransition: transform 450ms ease;\n\ttransform: perspective(1px) translateZ(0);\n\n\t> * {\n\t\tuser-select: none;\n\t}\n\n\t> a {\n\t\ttext-decoration: none;\n\t}\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-image: linear-gradient(90deg, rgb(255, 150, 165) 0%, rgb(255, 185, 140) 100%);\n\t}\n`\n\nexport default Homepage\n","/Users/gianningamy/cryptobet/front-end/master/src/Components/Navbar.jsx",["51","52","53","54"],"/Users/gianningamy/cryptobet/front-end/master/src/Components/Portfolio.jsx",["55","56","57"],"import React from \"react\"\nimport styled from \"styled-components\"\n\nconst Portfolio = ({userInfos}) => {\n\n\tlet tmp = userInfos.account;\n\tlet res = tmp.substring(0, 5) + \"...\" + tmp.substring((tmp.length)-4);\n\treturn (\n\t\t<Container>\n\t\t\t<Currency style={userInfos.network == \"137\" ? {} : {background:\"rgb(255, 67, 67)\", color: \"white\", width: \"50%\"}}>\n\t\t\t\t{userInfos.network == \"137\" ? \n\t\t\t\t\"Polygon\" :  \"Wrong network\"}\n\t\t\t</Currency>\n\t\t\t<Money>{userInfos.network == \"137\" ? \n\t\t\t\tparseFloat(userInfos.balance).toFixed(3) + \"MATIC\" :  \"\"}</Money>\n\t\t\t<Address>{res}</Address>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-color: #191b1f;\n\tborder : 1px solid #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 25%;\n\tjustify-content: space-between;\n`\n\nconst Currency = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder: 1px solid rgb(33, 36, 41);\n\tcolor: rgb(149, 103, 255);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tfont-family: Inter,sans-serif;\n`\n\nconst Money = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tcolor: white;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tfont-family: Inter,sans-serif;\n`\n\nconst Address = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tcolor: white;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n`\n\nexport default Portfolio\n","/Users/gianningamy/cryptobet/front-end/master/src/Components/Betting.jsx",["58","59"],"import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from 'web3'\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\n\nconst Betting = ({userInfos, idCurrentGame}) => {\n\tlet inputAmount = React.createRef();\n\tconst web3 = new Web3(window.ethereum);\n\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\tconst [gameInfos, setGameInfos] = useState(\"\");\n\n\tasync function betUp(){\n\t\tawait window.ethereum.enable();\n\n\t\tif(Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){\n\t\t\tlet betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t \tawait contract.methods.joinUp().send({from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\")});\n\t\t }\n\t}\n\n\tasync function betDown(){\n\t\tawait window.ethereum.enable();\n\n\t\tif(Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){\n\t\t\tlet betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t \tawait contract.methods.joinDown().send({from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\")});\n\t\t }\n\t}\n\n\tasync function getGameInfos(idGame){\n\t\t\tawait window.ethereum.enable();\n\t\t\tvar game;\n\t\t\tvar statusGame;\n\t\t\tvar currentPrice;\n\t\t\tvar currentGameId = idGame;\n\n\t\t\tawait contract.methods.Games(currentGameId).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tgame = receipt;\n\t\t\t\t});\n\n\t\t\tawait contract.methods.getCurrentPrice().call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tcurrentPrice = receipt/10 ** 8;\n\t\t\t\t});\n\n\t\t\tvar priceStart = 0;\n\t\t\tvar previousTime = 0;\n\t\t\tif(currentGameId !== 0){\n\t\t\t\tawait contract.methods.Games(parseInt(currentGameId)-1).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tpriceStart = receipt.priceEnd / 10 ** 8;\n\t    \t\t\tpreviousTime = receipt.endTimestamp;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar min = String((previousTime - Math.floor(Date.now()/1000)) % 60);\n\t\t\tif(min < 10)\tmin  = \"0\"+ min\n\n\t\t\tvar userAmount = await contract.methods.users(currentGameId, userInfos.account).call();\n\n\t\t\tvar playerState = parseInt(userAmount.amount);\n\t\t\tif(playerState > 0){\n\t\t\t\tif(userAmount.poolChoice == 0)\tplayerState = \"DOWN : \" + await web3.utils.fromWei(userAmount.amount, 'ether')\n\t\t\t\telse\tplayerState = \"UP : \" + await web3.utils.fromWei(userAmount.amount, 'ether') + \" MATIC\"\n\t\t\t}else{\n\t\t\t\tif(Math.floor((previousTime - Math.floor(Date.now()/1000))/60) < 0){\n\t\t\t\t\tplayerState = \"OUT\"\n\t\t\t\t}else{\n\t\t\t\t\tplayerState = \"Click on Up/Down button to enter the game\"\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tstatusGame = \"Next\"\n\t\t\tsetGameInfos({\n\t\t\t\tPool1Amount : await web3.utils.fromWei(game.upAmount, 'ether'),\n\t\t\t\tPool0Amount : await web3.utils.fromWei(game.downAmount, 'ether'),\n\t\t\t\tPool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tPool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tstatus: statusGame,\n\t\t\t\tpriceStart : priceStart.toFixed(3),\n\t\t\t\tCurrentPrice: currentPrice.toFixed(3), \n\t\t\t\tCurrentGameId: currentGameId,\n\t\t\t\tplayerState: playerState,\n\t\t\t\tTimeLeft: Math.floor((previousTime - Math.floor(Date.now()/1000))/60) >= 0 ? \"Time left : \" + String(Math.floor((previousTime - Math.floor(Date.now()/1000))/60)) + \" : \" + min : \"Locked\"\n\t\t\t})\n\t}\n\tuseEffect(() => {\n\t\tsetTimeout(() => {  getGameInfos(idCurrentGame); }, 1000);\n\t},[gameInfos, idCurrentGame]);\n\treturn (\n\t\t<Container>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>{gameInfos.status}</State>\n\t\t\t\t<Time>{gameInfos.TimeLeft}</Time>\n\t\t\t\t<Id> #{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Popup trigger={<UpButton onClick={() => betUp()}>UP x{gameInfos.Pool1Payout} Payout</UpButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount ref={inputAmount} onKeyPress={(event) => {if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {event.preventDefault();}}} inputmode=\"decimal\" autocomplete=\"off\" autocorrect=\"off\" type=\"text\" pattern=\"^[0-9]*[.,]?[0-9]*$\" placeholder=\"0.0\" minlength=\"1\" maxlength=\"79\" spellcheck=\"false\" style={{width: \"100%\"}}/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<UpButton onClick={() => betUp()}>Join UP</UpButton>\n\t\t\t\t</StatsContainer>\n  \t\t\t</Popup>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{color: \"rgb(39, 255, 96)\"}}>Up pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool1Amount) > 0 ? parseFloat(gameInfos.Pool1Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>{(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)) > 0 ? (parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{color: \"rgb(255, 67, 67)\"}}>Down pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool0Amount) > 0 ? parseFloat(gameInfos.Pool0Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Popup trigger={<DownButton onClick={() => betDown()}>DOWN x{gameInfos.Pool0Payout} Payout</DownButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount ref={inputAmount} onKeyPress={(event) => {if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {event.preventDefault();}}} inputmode=\"decimal\" autocomplete=\"off\" autocorrect=\"off\" type=\"text\" pattern=\"^[0-9]*[.,]?[0-9]*$\" placeholder=\"0.0\" minlength=\"1\" maxlength=\"79\" spellcheck=\"false\" style={{width: \"100%\"}}/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<DownButton onClick={() => betDown()}>Join Down</DownButton>\n\t\t\t\t</StatsContainer>\n  \t\t\t</Popup>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 3px solid rgb(149, 177, 254);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(39, 255, 96);\n`\n\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst UpButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(39, 220, 96);\n\t\tcolor: white;\n\t}\n`\n\nconst DownButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(255, 67, 67);\n\t\tcolor: white;\n\t}\n`\n\nconst InputAmount = styled.input`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\t\n`\n\nexport default Betting\n","/Users/gianningamy/cryptobet/front-end/master/src/Components/CurrentGame.jsx",["60","61"],"import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from 'web3'\n\nconst CurrentGame = ({userInfos, idCurrentGame}) => {\n\t\tconst web3 = new Web3(window.ethereum);\n\t\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\t\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\t\tconst [gameInfos, setGameInfos] = useState(\"\");\n\n\tasync function getGameInfos(idGame){\n\t\t\tawait window.ethereum.enable();\n\t\t\tvar game;\n\t\t\tvar statusGame;\n\t\t\tvar currentPrice;\n\t\t\tvar currentGameId = idGame;\n\n\t\t\tawait contract.methods.Games(currentGameId).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tgame = receipt;\n\t\t\t\t});\n\n\t\t\tawait contract.methods.getCurrentPrice().call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tcurrentPrice = receipt/10 ** 8;\n\t\t\t\t});\n\n\t\t\tvar min = String((game.endTimestamp - Math.floor(Date.now()/1000)) % 60);\n\t\t\tif(min < 10)\tmin  = \"0\"+ min\n\n\t\t\tvar priceStart = 0;\n\t\t\tif(currentGameId !== 0){\n\t\t\t\tawait contract.methods.Games(parseInt(currentGameId)-1).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tpriceStart = receipt.priceEnd / 10 ** 8;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar state = (currentPrice - priceStart).toFixed(3);\n\t\t\tif (state > 0){\n\t\t\t\tstate = \"UP\"\n\t\t\t}else{\n\t\t\t\tif(state < 0){\n\t\t\t\t\tstate = \"DOWN\"\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tstate = \"---\"\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar user = await contract.methods.users(currentGameId, userInfos.account).call();\n\t\t\tvar poolChoice = user.poolChoice;\n\t\t\tif(poolChoice == 1)\tpoolChoice = \"UP\"\n\t\t\telse\tpoolChoice = \"DOWN\"\n\t\t\t\n\t\t\tstatusGame = \"Live\"\n\t\t\tsetGameInfos({\n\t\t\t\tPool1Amount : await web3.utils.fromWei(game.upAmount, 'ether'),\n\t\t\t\tPool0Amount : await web3.utils.fromWei(game.downAmount, 'ether'),\n\t\t\t\tPool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tPool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tstatus: statusGame,\n\t\t\t\tpriceStart : priceStart.toFixed(3),\n\t\t\t\tCurrentPrice: currentPrice.toFixed(3),\n\t\t\t\tCurrentGameId: currentGameId,\n\t\t\t\tplayerState: parseInt(user.amount) > 0 ? poolChoice + \" : \" + await web3.utils.fromWei(user.amount, 'ether') + \" MATIC\": \"OUT\",\n\t\t\t\tState: state,\n\t\t\t\tTimeLeft: Math.floor((game.endTimestamp - Math.floor(Date.now()/1000))/60) >= 0 ? \"Time left : \" + String(Math.floor((game.endTimestamp - Math.floor(Date.now()/1000))/60)) + \" : \" + min : \"Calculating\"\n\t\t\t})\n\t}\n\tuseEffect(() => {\n\t\tsetTimeout(() => {  getGameInfos(idCurrentGame); }, 1000);\n\t},[gameInfos, idCurrentGame]);\n\treturn (\n\t\t<Container style={gameInfos.State === \"UP\" ? {border: \"3px solid rgb(39, 255, 96)\"} : {border: \"3px solid rgb(255, 67, 67)\"}}>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>{gameInfos.status}</State>\n\t\t\t\t<Time>{gameInfos.TimeLeft}</Time>\n\t\t\t\t<Id>#{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Up style={gameInfos.State === \"UP\" ? {} : {background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\", color:\"rgb(84, 36, 50)\", border: \"3px solid rgb(84, 36, 50)\"}}>UP x{gameInfos.Pool1Payout} Payout</Up>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Current price</Key>\n\t\t\t\t\t<Value style={gameInfos.State === \"UP\" ? {border: \"3px solid rgb(39, 255, 96)\"} : {border: \"3px solid rgb(255, 67, 67)\"}}>{gameInfos.CurrentPrice} $</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Locked price</Key>\n\t\t\t\t\t<Value>{gameInfos.priceStart} $</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>{(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)) > 0 ? (parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Down style={gameInfos.State === \"DOWN\" ? {} : {background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\", color:\"rgb(84, 36, 50)\", border: \"3px solid rgb(84, 36, 50)\"}}>DOWN x{gameInfos.Pool0Payout} Payout</Down>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Up = styled.div`\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n`\n\nconst Down = styled.div`\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n`\n\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\t\n`\n\nexport default CurrentGame\n","/Users/gianningamy/cryptobet/front-end/master/src/Components/PreviousGame.jsx",["62","63"],"import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from 'web3'\n\nconst PreviousGame = ({userInfos, idCurrentGame}) => {\n\t\tconst web3 = new Web3(window.ethereum);\n\t\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\t\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\t\tconst [gameInfos, setGameInfos] = useState(\"\");\n\n\tasync function getGameInfos(idGame){\n\t\t\tawait window.ethereum.enable();\n\t\t\tvar game;\n\t\t\tvar statusGame;\n\t\t\tvar currentPrice;\n\t\t\tvar currentGameId = idGame;\n\n\t\t\tawait contract.methods.Games(currentGameId).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tgame = receipt;\n\t\t\t\t});\n\n\t\t\tawait contract.methods.getCurrentPrice().call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tcurrentPrice = receipt/10 ** 8;\n\t\t\t\t});\n\n\t\t\tvar min = String((game.endTimestamp - Math.floor(Date.now()/1000)) % 60);\n\t\t\tif(min < 10)\tmin  = \"0\"+ min\n\n\t\t\tvar priceStart = 0;\n\t\t\tif(currentGameId !== 0){\n\t\t\t\tawait contract.methods.Games(parseInt(currentGameId)-1).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tpriceStart = receipt.priceEnd / 10 ** 8;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar userGame = await contract.methods.users(currentGameId, userInfos.account).call();\n\t\t\tvar poolChoice = userGame.poolChoice\n\t\t\tif(poolChoice == 1)\tpoolChoice = \"UP\"\n\t\t\telse\tpoolChoice = \"DOWN\"\n\n\t\t\tstatusGame = \"Closed\"\n\t\t\tsetGameInfos({\n\t\t\t\tPool1Amount : await web3.utils.fromWei(game.upAmount, 'ether'),\n\t\t\t\tPool0Amount : await web3.utils.fromWei(game.downAmount, 'ether'),\n\t\t\t\tPool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tPool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tstatus: statusGame,\n\t\t\t\tPriceStart : priceStart.toFixed(3),\n\t\t\t\tPriceEnd: (game.priceEnd / 10 ** 8).toFixed(3),\n\t\t\t\tCurrentPrice: currentPrice.toFixed(3), \n\t\t\t\tCurrentGameId: currentGameId,\n\t\t\t\tplayerState: parseInt(userGame.amount) > 0 ? poolChoice + \" : \" + await web3.utils.fromWei(userGame.amount, 'ether') + \" MATIC\": \"OUT\",\n\t\t\t\tTimeLeft: String(Math.floor((game.endTimestamp - Math.floor(Date.now()/1000))/60)) + \" : \" + min,\n\t\t\t\twinner: (game.priceEnd / 10 ** 8) > priceStart ? \"UP\" : \"DOWN\",\n\t\t\t})\n\t}\n\tuseEffect(() => {\n\t\tsetTimeout(() => {  getGameInfos(idCurrentGame); }, 1000);\n\t},[gameInfos, idCurrentGame]);\n\treturn (\n\t\t<Container style={gameInfos.winner === \"UP\" ? {border: \"3px solid rgb(39, 255, 96)\"} : {border: \"3px solid rgb(255, 67, 67)\"}}>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>{gameInfos.status}</State>\n\t\t\t\t<Id>#{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Up style={gameInfos.winner === \"UP\" ? {} : {background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\", color:\"rgb(84, 36, 50)\", border: \"3px solid rgb(84, 36, 50)\"}}>UP x{gameInfos.Pool1Payout} Payout</Up>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Closed price</Key>\n\t\t\t\t\t<Value style={gameInfos.winner === \"UP\" ? {border: \"3px solid rgb(39, 255, 96)\"} : {border: \"3px solid rgb(255, 67, 67)\"}}>{gameInfos.PriceEnd} $</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Locked price</Key>\n\t\t\t\t\t<Value>{gameInfos.PriceStart} $</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>{(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)) > 0 ? (parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Down style={gameInfos.winner === \"DOWN\" ? {} : {background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\", color:\"rgb(84, 36, 50)\", border: \"3px solid rgb(84, 36, 50)\"}}>DOWN x{gameInfos.Pool0Payout} Payout</Down>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\tgrid-area: Status;\n\twidth: 50%;\n\ttext-align: center;\n\tcolor: rgb(255, 67, 67)\n`\n\nconst Id = styled.div`\n\tgrid-area: Status;\n\twidth: 50%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Up = styled.div`\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n`\n\nconst Down = styled.div`\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n`\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\t\n`\n\nexport default PreviousGame\n","/Users/gianningamy/cryptobet/front-end/master/src/Pages/Profile.jsx",["64","65","66","67","68","69"],"import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Navbar from \"../Components/Navbar\"\nimport Web3 from 'web3'\n\nconst Profile = () => {\n\tconst web3 = new Web3(window.ethereum);\n\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\tconst [userInfos, setUserInfos] = useState({account: \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\",\n\t\t\t\t\tbalance: \"0\",\n\t\t\t\t\tnetwork: \"Not connected\",\n\t\t\t\t\tcontract: \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\",\n\t\t\t\t});\n\n\tconst [profileInfos, setProfileInfos] = useState({\n\t\trounds: \"Loading\",\n\t\twinRate: \"Loading\",\n\t\tnetWinnings: \"Loading\",\n\t})\n\n\tconst [selectedAccount, setSelectedAccount] = useState(\"\");\n\n\tasync function logAccount(){\n\t\tlet provider = window.ethereum;\n\n\t\tif (typeof provider !== 'undefined') {\n\t\t\tawait provider\n\t\t\t\t.request({ method: 'eth_requestAccounts' })\n\t\t\t\t\t.then((accounts) => {\n\t\t\t\t\tsetSelectedAccount(accounts[0]);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\treturn;\n\t\t\t\t});\n\n\t\t\tawait window.ethereum.on('accountsChanged', function (accounts) {\n\t\t\t\tsetSelectedAccount(accounts[0]);\n\t\t\t});\n\t\t\t\n\t\t\tif(selectedAccount !== \"\"){\n\n\t\t\t\tvar rewardList = await contract.methods.getUserAvailableWins(selectedAccount).call();\n\t\t\t\t\tvar reward = 0;\n\t\t\t\t\tvar game;\n\t\t\t\t\tvar user;\n\n\t\t\t\t\tfor(var i=0; i<rewardList.length; i++){\n\t\t\t\t\t\tif(rewardList[i] > 0){\n\t\t\t\t\t\t\tawait contract.methods.Games(rewardList[i]).call()\n\t\t\t\t\t\t\t\t.then(function(receipt){\n\t\t\t\t\t\t\t\t\tgame = receipt;\n\t\t\t\t\t\t\t\t});\t\n\n\t\t\t\t\t\t\tuser = await contract.methods.users(rewardList[i], userInfos.account).call()\n\t\t\t\t\t\t\treward += (user.amount*game.rewardAmount)/game.rewardPoolAmount\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tsetUserInfos({\n\t\t\t\t\taccount: selectedAccount,\n\t\t\t\t\tbalance: await web3.utils.fromWei(await web3.eth.getBalance(selectedAccount), 'ether'),\n\t\t\t\t\tnetwork: await web3.eth.net.getId(),\n\t\t\t\t\trewards: parseFloat(await web3.utils.fromWei(String(reward), 'ether')).toFixed(3),\n\t\t\t\t\tcontract: \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\",\n\t\t\t\t\tstatus: \"connected\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function getData(){\n\t\tif(selectedAccount !== \"\" && userInfos.network == 137){\n\t\t\tvar reward = 0;\n\t\t\tvar cpt = (await contract.methods.getUserGames(selectedAccount).call()).length;\n\t\t\tvar netWinnings;\n\t\t\tvar winRate;\n\n\t\t\tif((await contract.methods.getUserWins(selectedAccount).call())[0] != 0){\n\t\t\t\twinRate = ((await contract.methods.getUserWins(selectedAccount).call()).length/cpt)*100;\n\t\t\t\tnetWinnings = await contract.methods.getUserWinAmount(selectedAccount).call() - await contract.methods.getUserTotalAmount(selectedAccount).call();\n\t\t\t}else{\n\t\t\t\twinRate = 0\n\t\t\t\tnetWinnings = 0\n\t\t\t}\n\t\t\tsetProfileInfos({\n\t\t\t\trounds: cpt,\n\t\t\t\twinRate: winRate.toFixed(1) + \" %\",\n\t\t\t\tnetWinnings: String(parseFloat(await web3.utils.fromWei(String(netWinnings), 'ether')).toFixed(3)) + \" MATIC\",\n\t\t\t});\n\t\t}else{\n\t\t\tsetProfileInfos({\n\t\t\t\trounds: \"Loading\",\n\t\t\t\twinRate: \"Loading\",\n\t\t\t\tnetWinnings: \"Loading\",\n\t\t\t});\n\t\t}\n\t}\n\n\tasync function reward(){\n\t\tif(userInfos.network == \"137\")\tawait contract.methods.reward(await contract.methods.getUserAvailableWins(selectedAccount).call()).send({from: selectedAccount});\n\t}\n\n\tuseEffect(() => {\n\t\tlogAccount();\n\t\tsetTimeout(() => {  getData(); }, 3000);\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on(\"chainChanged\", () => {\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t\twindow.ethereum.on(\"accountsChanged\", () => {\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t}\n\t}, [selectedAccount, profileInfos])\n\treturn (\n\t\t<Main>\n\t\t\t<Navbar userInfos={userInfos} page=\"Profile\"/>\n\t\t\t<ContainerGen>\n\t\t\t\t<Container>\n\t\t\t\t\t<StatsContainer>\n\t\t\t\t\t\t<Stats>\n\t\t\t\t\t\t\t<Key>Win Rate</Key>\n\t\t\t\t\t\t\t<Value>{profileInfos.winRate}</Value>\n\t\t\t\t\t\t</Stats>\n\t\t\t\t\t\t<Stats>\n\t\t\t\t\t\t\t<Key>Rounds</Key>\n\t\t\t\t\t\t\t<Value>{profileInfos.rounds}</Value>\n\t\t\t\t\t\t</Stats>\n\t\t\t\t\t</StatsContainer>\n\t\t\t\t\t<Stats style={{\"margin-top\":\"20%\"}}>\n\t\t\t\t\t\t\t<Key>Net Winnings</Key>\n\t\t\t\t\t\t\t<Value style={{color:\"#191b1f\"}}>{profileInfos.netWinnings}</Value>\n\t\t\t\t\t</Stats>\n\t\t\t\t</Container>\n\t\t\t</ContainerGen>\n\t\t\t<Reward>\n\t\t\t\t<RewardText>{userInfos.rewards > 0 ? userInfos.rewards: 0} MATIC</RewardText>\n\t\t\t\t<RewardButton onClick={() => reward()}>Collect rewards</RewardButton>\n\t\t\t</Reward>\n\t\t</Main>\n\t)\n}\n\nconst Main = styled.main`\n\theight: 100vh;\n\twidth: 100vw;\n\tbackground: #212429;\n`\n\nconst ContainerGen = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tgap: 5%;\n`\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst Reward = styled.div`\n\tmargin-left: 40%;\n\tmargin-top: 11%;\n\tgrid-area: reward;\n\tbackground-color: #191b1f;\n\tborder: 1px solid #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 20%;\n\talign-items: center;\n`\n\nconst RewardText = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-family: Inter,sans-serif;\n`\n\nconst RewardButton = styled.button`\n\tfont-size: 100%;\n\tcolor: rgb(84, 36, 50);\n\tfont-family: 'Inter custom',sans-serif;\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 16px;\n\twidth:  100%;\n\tfont-weight: 500;\n\ttext-align: center;\n\tborder-radius: 20px;\n\toutline: none;\n\tborder: 1px solid #191b1f;\n\ttext-decoration: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tcursor: pointer;\n\tposition: relative;\n\tz-index: 1;\n\t&:disabled {\n\t\tcursor: auto;\n\t\tpointer-events: none;\n\t}\n\n\twill-change: transform;\n\ttransition: transform 450ms ease;\n\ttransform: perspective(1px) translateZ(0);\n\n\t> * {\n\t\tuser-select: none;\n\t}\n\n\t> a {\n\t\ttext-decoration: none;\n\t}\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-image: linear-gradient(90deg, rgb(255, 150, 165) 0%, rgb(255, 185, 140) 100%);\n\t}\n`\n\nexport default Profile\n",{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","severity":1,"message":"75","line":54,"column":14,"nodeType":"76","messageId":"77","endLine":56,"endColumn":9},{"ruleId":"78","severity":1,"message":"79","line":86,"column":24,"nodeType":"80","messageId":"81","endLine":86,"endColumn":26},{"ruleId":"82","severity":1,"message":"83","line":100,"column":5,"nodeType":"84","endLine":100,"endColumn":37,"suggestions":"85"},{"ruleId":"86","severity":1,"message":"87","line":131,"column":7,"nodeType":"88","messageId":"89","endLine":131,"endColumn":18},{"ruleId":"90","severity":1,"message":"91","line":10,"column":5,"nodeType":"92","endLine":10,"endColumn":85},{"ruleId":"78","severity":1,"message":"79","line":14,"column":26,"nodeType":"80","messageId":"81","endLine":14,"endColumn":28},{"ruleId":"78","severity":1,"message":"79","line":17,"column":26,"nodeType":"80","messageId":"81","endLine":17,"endColumn":28},{"ruleId":"90","severity":1,"message":"91","line":22,"column":5,"nodeType":"92","endLine":22,"endColumn":99},{"ruleId":"78","severity":1,"message":"79","line":10,"column":39,"nodeType":"80","messageId":"81","endLine":10,"endColumn":41},{"ruleId":"78","severity":1,"message":"79","line":11,"column":24,"nodeType":"80","messageId":"81","endLine":11,"endColumn":26},{"ruleId":"78","severity":1,"message":"79","line":14,"column":30,"nodeType":"80","messageId":"81","endLine":14,"endColumn":32},{"ruleId":"78","severity":1,"message":"79","line":67,"column":30,"nodeType":"80","messageId":"81","endLine":67,"endColumn":32},{"ruleId":"82","severity":1,"message":"93","line":93,"column":4,"nodeType":"84","endLine":93,"endColumn":30,"suggestions":"94"},{"ruleId":"78","severity":1,"message":"79","line":54,"column":18,"nodeType":"80","messageId":"81","endLine":54,"endColumn":20},{"ruleId":"82","severity":1,"message":"93","line":74,"column":4,"nodeType":"84","endLine":74,"endColumn":30,"suggestions":"95"},{"ruleId":"78","severity":1,"message":"79","line":42,"column":18,"nodeType":"80","messageId":"81","endLine":42,"endColumn":20},{"ruleId":"82","severity":1,"message":"93","line":63,"column":4,"nodeType":"84","endLine":63,"endColumn":30,"suggestions":"96"},{"ruleId":"74","severity":1,"message":"75","line":53,"column":15,"nodeType":"76","messageId":"77","endLine":55,"endColumn":10},{"ruleId":"78","severity":1,"message":"79","line":75,"column":50,"nodeType":"80","messageId":"81","endLine":75,"endColumn":52},{"ruleId":"86","severity":1,"message":"97","line":76,"column":8,"nodeType":"88","messageId":"89","endLine":76,"endColumn":14},{"ruleId":"78","severity":1,"message":"98","line":81,"column":71,"nodeType":"80","messageId":"81","endLine":81,"endColumn":73},{"ruleId":"78","severity":1,"message":"79","line":103,"column":24,"nodeType":"80","messageId":"81","endLine":103,"endColumn":26},{"ruleId":"82","severity":1,"message":"83","line":117,"column":5,"nodeType":"84","endLine":117,"endColumn":36,"suggestions":"99"},"no-native-reassign",["100"],"no-negated-in-lhs",["101"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'game'.","FunctionExpression","unsafeRefs","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getData' and 'logAccount'. Either include them or remove the dependency array.","ArrayExpression",["102"],"no-unused-vars","'LoginButton' is assigned a value but never used.","Identifier","unusedVar","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'getGameInfos'. Either include it or remove the dependency array.",["103"],["104"],["105"],"'reward' is assigned a value but never used.","Expected '!==' and instead saw '!='.",["106"],"no-global-assign","no-unsafe-negation",{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},{"desc":"109","fix":"111"},{"desc":"109","fix":"112"},{"desc":"113","fix":"114"},"Update the dependencies array to be: [selectedAccount, idCurrentGame, logAccount, getData]",{"range":"115","text":"116"},"Update the dependencies array to be: [gameInfos, getGameInfos, idCurrentGame]",{"range":"117","text":"118"},{"range":"119","text":"118"},{"range":"120","text":"118"},"Update the dependencies array to be: [selectedAccount, profileInfos, logAccount, getData]",{"range":"121","text":"122"},[9019,9051],"[selectedAccount, idCurrentGame, logAccount, getData]",[9519,9545],"[gameInfos, getGameInfos, idCurrentGame]",[8654,8680],[8481,8507],[9578,9609],"[selectedAccount, profileInfos, logAccount, getData]"]