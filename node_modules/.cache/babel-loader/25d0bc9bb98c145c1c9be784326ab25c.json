{"ast":null,"code":"var _jsxFileName = \"/Users/gianningamy/cryptobet/front-end/refactoring/src/Components/Betting.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from \"web3\";\nimport { abi } from \"../Config/abi\";\nimport { UserContext } from \"../Provider/UserProvider\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport { ADDRESS } from \"../Config/contract\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Betting = ({\n  idCurrentGame\n}) => {\n  _s();\n\n  const inputAmount = /*#__PURE__*/React.createRef();\n  const web3 = new Web3(window.ethereum);\n  const {\n    user: userInfos\n  } = useContext(UserContext);\n  const contract = new web3.eth.Contract(abi, ADDRESS);\n  const [gameInfos, setGameInfos] = useState({\n    Pool1Amount: 0,\n    Pool0Amount: 0,\n    Pool1Payout: 0,\n    Pool0Payout: 0,\n    priceStart: 0,\n    CurrentPrice: 0,\n    CurrentGameId: \"\",\n    playerState: \"\",\n    previousTime: 0,\n    min: 0,\n    TimeLeft: 0\n  });\n\n  const betUp = async () => {\n    await window.ethereum.enable();\n\n    if (Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))) {\n      const betAmount = inputAmount.current.value.replace(\",\", \".\");\n      await contract.methods.joinUp().send({\n        from: userInfos.account,\n        value: web3.utils.toWei(betAmount, \"ether\"),\n        type: \"0x0\"\n      });\n    }\n  };\n\n  const betDown = async () => {\n    await window.ethereum.enable();\n\n    if (Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))) {\n      const betAmount = inputAmount.current.value.replace(\",\", \".\");\n      await contract.methods.joinDown().send({\n        from: userInfos.account,\n        value: web3.utils.toWei(betAmount, \"ether\"),\n        type: \"0x0\"\n      });\n    }\n  };\n\n  const getGameInfos = async idGame => {\n    //await window.ethereum.enable();\n    let game; // let statusGame\n\n    let currentPrice;\n    let currentGameId = idGame;\n    await contract.methods.Games(currentGameId).call().then(receipt => {\n      game = receipt;\n    });\n    await contract.methods.getCurrentPrice().call().then(receipt => {\n      currentPrice = receipt / 10 ** 8;\n    });\n    let priceStart = 0;\n    let previousTime = 0;\n\n    if (currentGameId !== 0) {\n      await contract.methods.Games(parseInt(currentGameId) - 1).call().then(receipt => {\n        priceStart = receipt.priceEnd / 10 ** 8;\n        previousTime = receipt.endTimestamp;\n      });\n    }\n\n    let min = String((previousTime - Math.floor(Date.now() / 1000)) % 60);\n\n    if (min < 10) {\n      min = \"0\" + min;\n    }\n\n    let userAmount = await contract.methods.users(currentGameId, userInfos.account).call();\n    let playerState = parseInt(userAmount.amount);\n\n    if (playerState > 0) {\n      if (userAmount.poolChoice === 0) playerState = \"DOWN : \" + web3.utils.fromWei(userAmount.amount, \"ether\");else playerState = \"UP : \" + web3.utils.fromWei(userAmount.amount, \"ether\") + \" MATIC\";\n    } else {\n      if (Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60) < 0) {\n        playerState = \"OUT\";\n      } else {\n        playerState = \"Click on Up/Down button to enter the game\";\n      }\n    }\n\n    setGameInfos({\n      Pool1Amount: web3.utils.fromWei(game.upAmount, \"ether\"),\n      Pool0Amount: web3.utils.fromWei(game.downAmount, \"ether\"),\n      Pool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount) + parseFloat(game.downAmount)) / parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n      Pool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount) + parseFloat(game.downAmount)) / parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n      priceStart: priceStart.toFixed(3),\n      CurrentPrice: currentPrice.toFixed(3),\n      CurrentGameId: currentGameId,\n      playerState: playerState,\n      previousTime: previousTime,\n      min: min,\n      TimeLeft: Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60) >= 0 ? \"Time left : \" + String(Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60)) + \" : \" + min : \"Locked\"\n    });\n  };\n\n  useEffect(() => {\n    getGameInfos(idCurrentGame);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(StatusContainer, {\n      children: [/*#__PURE__*/_jsxDEV(State, {\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Time, {\n        children: gameInfos.TimeLeft\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Id, {\n        children: [\" #\", gameInfos.CurrentGameId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: /*#__PURE__*/_jsxDEV(UpButton, {\n        onClick: () => betUp(),\n        children: [\"UP x\", gameInfos.Pool1Payout, \" Payout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 20\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(StatsContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Stats, {\n          children: /*#__PURE__*/_jsxDEV(InputAmount, {\n            ref: inputAmount,\n            onKeyPress: event => {\n              if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {\n                event.preventDefault();\n              }\n            },\n            inputmode: \"decimal\",\n            autocomplete: \"off\",\n            autocorrect: \"off\",\n            type: \"text\",\n            pattern: \"^[0-9]*[.,]?[0-9]*$\",\n            placeholder: \"0.0\",\n            minlength: \"1\",\n            maxlength: \"79\",\n            spellcheck: \"false\",\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(UpButton, {\n          onClick: () => betUp(),\n          children: \"Join UP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(StatsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Stats, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          style: {\n            color: \"rgb(39, 255, 96)\"\n          },\n          children: \"Up pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: [parseFloat(gameInfos.Pool1Amount) > 0 ? parseFloat(gameInfos.Pool1Amount).toFixed(2) : 0, \" MATIC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Stats, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: \"Prize pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: [parseFloat(gameInfos.Pool0Amount) + parseFloat(gameInfos.Pool1Amount) > 0 ? (parseFloat(gameInfos.Pool0Amount) + parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0, \" \", \"MATIC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Stats, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          style: {\n            color: \"rgb(255, 67, 67)\"\n          },\n          children: \"Down pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: [parseFloat(gameInfos.Pool0Amount) > 0 ? parseFloat(gameInfos.Pool0Amount).toFixed(2) : 0, \" MATIC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: /*#__PURE__*/_jsxDEV(DownButton, {\n        onClick: () => betDown(),\n        children: [\"DOWN x\", gameInfos.Pool0Payout, \" Payout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 20\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(StatsContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Stats, {\n          children: /*#__PURE__*/_jsxDEV(InputAmount, {\n            ref: inputAmount,\n            onKeyPress: event => {\n              if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {\n                event.preventDefault();\n              }\n            },\n            inputmode: \"decimal\",\n            autocomplete: \"off\",\n            autocorrect: \"off\",\n            type: \"text\",\n            pattern: \"^[0-9]*[.,]?[0-9]*$\",\n            placeholder: \"0.0\",\n            minlength: \"1\",\n            maxlength: \"79\",\n            spellcheck: \"false\",\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(DownButton, {\n          onClick: () => betDown(),\n          children: \"Join Down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(OutputContainer, {\n      children: /*#__PURE__*/_jsxDEV(Output, {\n        children: gameInfos.playerState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Betting, \"/B1FDwqqpMtviPcQkSTPz2dkJ9g=\");\n\n_c = Betting;\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 3px solid rgb(149, 177, 254);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter, sans-serif;\n\tflex-direction: column;\n`;\n_c2 = Container;\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder: #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`;\n_c3 = StatusContainer;\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(39, 255, 96);\n`;\n_c4 = State;\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c5 = Time;\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c6 = Id;\nconst UpButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground: rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(39, 220, 96);\n\t\tcolor: white;\n\t}\n`;\n_c7 = UpButton;\nconst DownButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground: rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(255, 67, 67);\n\t\tcolor: white;\n\t}\n`;\n_c8 = DownButton;\nconst InputAmount = styled.input`\n\tbackground-color: rgb(33, 36, 41);\n\tborder: 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c9 = InputAmount;\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`;\n_c10 = StatsContainer;\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`;\n_c11 = Stats;\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder: 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c12 = Key;\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder: 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`;\n_c13 = Value;\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`;\n_c14 = OutputContainer;\nconst Output = styled.p`\n\ttext-align: center;\n`;\n_c15 = Output;\nexport default Betting;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"Betting\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"StatusContainer\");\n$RefreshReg$(_c4, \"State\");\n$RefreshReg$(_c5, \"Time\");\n$RefreshReg$(_c6, \"Id\");\n$RefreshReg$(_c7, \"UpButton\");\n$RefreshReg$(_c8, \"DownButton\");\n$RefreshReg$(_c9, \"InputAmount\");\n$RefreshReg$(_c10, \"StatsContainer\");\n$RefreshReg$(_c11, \"Stats\");\n$RefreshReg$(_c12, \"Key\");\n$RefreshReg$(_c13, \"Value\");\n$RefreshReg$(_c14, \"OutputContainer\");\n$RefreshReg$(_c15, \"Output\");","map":{"version":3,"sources":["/Users/gianningamy/cryptobet/front-end/refactoring/src/Components/Betting.jsx"],"names":["React","useState","useEffect","useContext","styled","Web3","abi","UserContext","Popup","ADDRESS","Betting","idCurrentGame","inputAmount","createRef","web3","window","ethereum","user","userInfos","contract","eth","Contract","gameInfos","setGameInfos","Pool1Amount","Pool0Amount","Pool1Payout","Pool0Payout","priceStart","CurrentPrice","CurrentGameId","playerState","previousTime","min","TimeLeft","betUp","enable","Boolean","current","value","match","betAmount","replace","methods","joinUp","send","from","account","utils","toWei","type","betDown","joinDown","getGameInfos","idGame","game","currentPrice","currentGameId","Games","call","then","receipt","getCurrentPrice","parseInt","priceEnd","endTimestamp","String","Math","floor","Date","now","userAmount","users","amount","poolChoice","fromWei","upAmount","downAmount","parseFloat","toFixed","event","test","key","preventDefault","width","color","Container","div","StatusContainer","State","Time","Id","UpButton","button","DownButton","InputAmount","input","StatsContainer","Stats","Key","Value","OutputContainer","Output","p"],"mappings":"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AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;MAAMC,e;AAUN,MAAMC,KAAK,GAAGrF,MAAM,CAACmF,GAAI;AACzB;AACA;AACA;AACA,CAJA;MAAME,K;AAMN,MAAMC,IAAI,GAAGtF,MAAM,CAACmF,GAAI;AACxB;AACA;AACA;AACA,CAJA;MAAMG,I;AAMN,MAAMC,EAAE,GAAGvF,MAAM,CAACmF,GAAI;AACtB;AACA;AACA;AACA,CAJA;MAAMI,E;AAMN,MAAMC,QAAQ,GAAGxF,MAAM,CAACyF,MAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhBA;MAAMD,Q;AAkBN,MAAME,UAAU,GAAG1F,MAAM,CAACyF,MAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhBA;MAAMC,U;AAkBN,MAAMC,WAAW,GAAG3F,MAAM,CAAC4F,KAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;MAAMD,W;AAUN,MAAME,cAAc,GAAG7F,MAAM,CAACmF,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;OAAMU,c;AASN,MAAMC,KAAK,GAAG9F,MAAM,CAACmF,GAAI;AACzB;AACA;AACA;AACA;AACA,CALA;OAAMW,K;AAON,MAAMC,GAAG,GAAG/F,MAAM,CAACmF,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMY,G;AAUN,MAAMC,KAAK,GAAGhG,MAAM,CAACmF,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;OAAMa,K;AASN,MAAMC,eAAe,GAAGjG,MAAM,CAACmF,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMc,e;AAUN,MAAMC,MAAM,GAAGlG,MAAM,CAACmG,CAAE;AACxB;AACA,CAFA;OAAMD,M;AAIN,eAAe5F,OAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from \"web3\"\nimport { abi } from \"../Config/abi\"\nimport { UserContext } from \"../Provider/UserProvider\"\nimport Popup from \"reactjs-popup\"\nimport \"reactjs-popup/dist/index.css\"\nimport { ADDRESS } from \"../Config/contract\"\n\nconst Betting = ({ idCurrentGame }) => {\n\tconst inputAmount = React.createRef()\n\tconst web3 = new Web3(window.ethereum)\n\tconst { user: userInfos } = useContext(UserContext)\n\n\tconst contract = new web3.eth.Contract(abi, ADDRESS)\n\n\tconst [gameInfos, setGameInfos] = useState({\n\t\tPool1Amount: 0,\n\t\tPool0Amount: 0,\n\t\tPool1Payout: 0,\n\t\tPool0Payout: 0,\n\t\tpriceStart: 0,\n\t\tCurrentPrice: 0,\n\t\tCurrentGameId: \"\",\n\t\tplayerState: \"\",\n\t\tpreviousTime: 0,\n\t\tmin: 0,\n\t\tTimeLeft: 0\n\t})\n\n\tconst betUp = async () => {\n\t\tawait window.ethereum.enable()\n\n\t\tif (Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))) {\n\t\t\tconst betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t\tawait contract.methods.joinUp().send({ from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\"), type: \"0x0\" })\n\t\t}\n\t}\n\n\tconst betDown = async () => {\n\t\tawait window.ethereum.enable()\n\n\t\tif (Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))) {\n\t\t\tconst betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t\tawait contract.methods.joinDown().send({ from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\"), type: \"0x0\" })\n\t\t}\n\t}\n\n\tconst getGameInfos = async (idGame) => {\n\t\t//await window.ethereum.enable();\n\t\tlet game\n\t\t// let statusGame\n\t\tlet currentPrice\n\t\tlet currentGameId = idGame\n\n\t\tawait contract.methods\n\t\t\t.Games(currentGameId)\n\t\t\t.call()\n\t\t\t.then((receipt) => {\n\t\t\t\tgame = receipt\n\t\t\t})\n\n\t\tawait contract.methods\n\t\t\t.getCurrentPrice()\n\t\t\t.call()\n\t\t\t.then((receipt) => {\n\t\t\t\tcurrentPrice = receipt / 10 ** 8\n\t\t\t})\n\n\t\tlet priceStart = 0\n\t\tlet previousTime = 0\n\t\tif (currentGameId !== 0) {\n\t\t\tawait contract.methods\n\t\t\t\t.Games(parseInt(currentGameId) - 1)\n\t\t\t\t.call()\n\t\t\t\t.then((receipt) => {\n\t\t\t\t\tpriceStart = receipt.priceEnd / 10 ** 8\n\t\t\t\t\tpreviousTime = receipt.endTimestamp\n\t\t\t\t})\n\t\t}\n\n\t\tlet min = String((previousTime - Math.floor(Date.now() / 1000)) % 60)\n\t\tif (min < 10) {\n\t\t\tmin = \"0\" + min\n\t\t}\n\n\t\tlet userAmount = await contract.methods.users(currentGameId, userInfos.account).call()\n\n\t\tlet playerState = parseInt(userAmount.amount)\n\t\tif (playerState > 0) {\n\t\t\tif (userAmount.poolChoice === 0) playerState = \"DOWN : \" + web3.utils.fromWei(userAmount.amount, \"ether\")\n\t\t\telse playerState = \"UP : \" + web3.utils.fromWei(userAmount.amount, \"ether\") + \" MATIC\"\n\t\t} else {\n\t\t\tif (Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60) < 0) {\n\t\t\t\tplayerState = \"OUT\"\n\t\t\t} else {\n\t\t\t\tplayerState = \"Click on Up/Down button to enter the game\"\n\t\t\t}\n\t\t}\n\n\t\tsetGameInfos({\n\t\t\tPool1Amount: web3.utils.fromWei(game.upAmount, \"ether\"),\n\t\t\tPool0Amount: web3.utils.fromWei(game.downAmount, \"ether\"),\n\t\t\tPool1Payout:\n\t\t\t\tparseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount) + parseFloat(game.downAmount)) / parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\tPool0Payout:\n\t\t\t\tparseFloat(game.downAmount) > 0\n\t\t\t\t\t? ((parseFloat(game.upAmount) + parseFloat(game.downAmount)) / parseFloat(game.downAmount)).toFixed(2)\n\t\t\t\t\t: \"1.00\",\n\t\t\tpriceStart: priceStart.toFixed(3),\n\t\t\tCurrentPrice: currentPrice.toFixed(3),\n\t\t\tCurrentGameId: currentGameId,\n\t\t\tplayerState: playerState,\n\t\t\tpreviousTime: previousTime,\n\t\t\tmin: min,\n\t\t\tTimeLeft:\n\t\t\t\tMath.floor((previousTime - Math.floor(Date.now() / 1000)) / 60) >= 0\n\t\t\t\t\t? \"Time left : \" + String(Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60)) + \" : \" + min\n\t\t\t\t\t: \"Locked\"\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tgetGameInfos(idCurrentGame)\n\t}, [])\n\n\treturn (\n\t\t<Container>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>Next</State>\n\t\t\t\t<Time>{gameInfos.TimeLeft}</Time>\n\t\t\t\t<Id> #{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Popup trigger={<UpButton onClick={() => betUp()}>UP x{gameInfos.Pool1Payout} Payout</UpButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount\n\t\t\t\t\t\t\tref={inputAmount}\n\t\t\t\t\t\t\tonKeyPress={(event) => {\n\t\t\t\t\t\t\t\tif (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {\n\t\t\t\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tinputmode=\"decimal\"\n\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\tminlength=\"1\"\n\t\t\t\t\t\t\tmaxlength=\"79\"\n\t\t\t\t\t\t\tspellcheck=\"false\"\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<UpButton onClick={() => betUp()}>Join UP</UpButton>\n\t\t\t\t</StatsContainer>\n\t\t\t</Popup>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{ color: \"rgb(39, 255, 96)\" }}>Up pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool1Amount) > 0 ? parseFloat(gameInfos.Pool1Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t{parseFloat(gameInfos.Pool0Amount) + parseFloat(gameInfos.Pool1Amount) > 0\n\t\t\t\t\t\t\t? (parseFloat(gameInfos.Pool0Amount) + parseFloat(gameInfos.Pool1Amount)).toFixed(2)\n\t\t\t\t\t\t\t: 0}{\" \"}\n\t\t\t\t\t\tMATIC\n\t\t\t\t\t</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{ color: \"rgb(255, 67, 67)\" }}>Down pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool0Amount) > 0 ? parseFloat(gameInfos.Pool0Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Popup trigger={<DownButton onClick={() => betDown()}>DOWN x{gameInfos.Pool0Payout} Payout</DownButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount\n\t\t\t\t\t\t\tref={inputAmount}\n\t\t\t\t\t\t\tonKeyPress={(event) => {\n\t\t\t\t\t\t\t\tif (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {\n\t\t\t\t\t\t\t\t\tevent.preventDefault()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tinputmode=\"decimal\"\n\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tpattern=\"^[0-9]*[.,]?[0-9]*$\"\n\t\t\t\t\t\t\tplaceholder=\"0.0\"\n\t\t\t\t\t\t\tminlength=\"1\"\n\t\t\t\t\t\t\tmaxlength=\"79\"\n\t\t\t\t\t\t\tspellcheck=\"false\"\n\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<DownButton onClick={() => betDown()}>Join Down</DownButton>\n\t\t\t\t</StatsContainer>\n\t\t\t</Popup>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 3px solid rgb(149, 177, 254);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter, sans-serif;\n\tflex-direction: column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder: #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(39, 255, 96);\n`\n\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst UpButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground: rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(39, 220, 96);\n\t\tcolor: white;\n\t}\n`\n\nconst DownButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground: rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(255, 67, 67);\n\t\tcolor: white;\n\t}\n`\n\nconst InputAmount = styled.input`\n\tbackground-color: rgb(33, 36, 41);\n\tborder: 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder: 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder: 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\n`\n\nexport default Betting\n"]},"metadata":{},"sourceType":"module"}