{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import Web3 from'web3';import Popup from'reactjs-popup';import'reactjs-popup/dist/index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Betting=function Betting(_ref){var userInfos=_ref.userInfos,idCurrentGame=_ref.idCurrentGame;var inputAmount=/*#__PURE__*/React.createRef();var web3=new Web3(window.ethereum);var abi=[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];var contract=new web3.eth.Contract(abi,\"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),gameInfos=_useState2[0],setGameInfos=_useState2[1];function betUp(){return _betUp.apply(this,arguments);}function _betUp(){_betUp=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var betAmount;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return window.ethereum.enable();case 2:if(!Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){_context.next=6;break;}betAmount=inputAmount.current.value.replace(\",\",\".\");_context.next=6;return contract.methods.joinUp().send({from:userInfos.account,value:web3.utils.toWei(betAmount,\"ether\")});case 6:case\"end\":return _context.stop();}}},_callee);}));return _betUp.apply(this,arguments);}function betDown(){return _betDown.apply(this,arguments);}function _betDown(){_betDown=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var betAmount;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return window.ethereum.enable();case 2:if(!Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){_context2.next=6;break;}betAmount=inputAmount.current.value.replace(\",\",\".\");_context2.next=6;return contract.methods.joinDown().send({from:userInfos.account,value:web3.utils.toWei(betAmount,\"ether\")});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _betDown.apply(this,arguments);}function getGameInfos(_x){return _getGameInfos.apply(this,arguments);}function _getGameInfos(){_getGameInfos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(idGame){var game,statusGame,currentPrice,currentGameId,priceStart,previousTime,min,userAmount,playerState;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return window.ethereum.enable();case 2:currentGameId=idGame;_context3.next=5;return contract.methods.Games(currentGameId).call().then(function(receipt){game=receipt;});case 5:_context3.next=7;return contract.methods.getCurrentPrice().call().then(function(receipt){currentPrice=receipt/Math.pow(10,8);});case 7:priceStart=0;previousTime=0;if(!(currentGameId!==0)){_context3.next=12;break;}_context3.next=12;return contract.methods.Games(parseInt(currentGameId)-1).call().then(function(receipt){priceStart=receipt.priceEnd/Math.pow(10,8);previousTime=receipt.endTimestamp;});case 12:min=String((previousTime-Math.floor(Date.now()/1000))%60);if(min<10)min=\"0\"+min;_context3.next=16;return contract.methods.users(currentGameId,userInfos.account).call();case 16:userAmount=_context3.sent;playerState=parseInt(userAmount.amount);if(!(playerState>0)){_context3.next=33;break;}if(!(userAmount.poolChoice==0)){_context3.next=26;break;}_context3.next=22;return web3.utils.fromWei(userAmount.amount,'ether');case 22:_context3.t0=_context3.sent;playerState=\"DOWN : \"+_context3.t0;_context3.next=31;break;case 26:_context3.next=28;return web3.utils.fromWei(userAmount.amount,'ether');case 28:_context3.t1=_context3.sent;_context3.t2=\"UP : \"+_context3.t1;playerState=_context3.t2+\" MATIC\";case 31:_context3.next=34;break;case 33:if(Math.floor((previousTime-Math.floor(Date.now()/1000))/60)<0){playerState=\"OUT\";}else{playerState=\"Click on Up/Down button to enter the game\";}case 34:statusGame=\"Next\";_context3.t3=setGameInfos;_context3.next=38;return web3.utils.fromWei(game.upAmount,'ether');case 38:_context3.t4=_context3.sent;_context3.next=41;return web3.utils.fromWei(game.downAmount,'ether');case 41:_context3.t5=_context3.sent;_context3.t6=parseFloat(game.upAmount)>0?((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2):\"1.00\";_context3.t7=parseFloat(game.downAmount)>0?((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2):\"1.00\";_context3.t8=statusGame;_context3.t9=priceStart.toFixed(3);_context3.t10=currentPrice.toFixed(3);_context3.t11=currentGameId;_context3.t12=playerState;_context3.t13=Math.floor((previousTime-Math.floor(Date.now()/1000))/60)>=0?\"Time left : \"+String(Math.floor((previousTime-Math.floor(Date.now()/1000))/60))+\" : \"+min:\"Locked\";_context3.t14={Pool1Amount:_context3.t4,Pool0Amount:_context3.t5,Pool1Payout:_context3.t6,Pool0Payout:_context3.t7,status:_context3.t8,priceStart:_context3.t9,CurrentPrice:_context3.t10,CurrentGameId:_context3.t11,playerState:_context3.t12,TimeLeft:_context3.t13};(0,_context3.t3)(_context3.t14);case 52:case\"end\":return _context3.stop();}}},_callee3);}));return _getGameInfos.apply(this,arguments);}useEffect(function(){setTimeout(function(){getGameInfos(idCurrentGame);},1000);},[gameInfos,idCurrentGame]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(StatusContainer,{children:[/*#__PURE__*/_jsx(State,{children:gameInfos.status}),/*#__PURE__*/_jsx(Time,{children:gameInfos.TimeLeft}),/*#__PURE__*/_jsxs(Id,{children:[\" #\",gameInfos.CurrentGameId]})]}),/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsxs(UpButton,{onClick:function onClick(){return betUp();},children:[\"UP x\",gameInfos.Pool1Payout,\" Payout\"]}),children:/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsx(Stats,{children:/*#__PURE__*/_jsx(InputAmount,{ref:inputAmount,onKeyPress:function onKeyPress(event){if(!/^[0-9]*[.,]?[0-9]*$/.test(event.key)){event.preventDefault();}},inputmode:\"decimal\",autocomplete:\"off\",autocorrect:\"off\",type:\"text\",pattern:\"^[0-9]*[.,]?[0-9]*$\",placeholder:\"0.0\",minlength:\"1\",maxlength:\"79\",spellcheck:\"false\",style:{width:\"100%\"}})}),/*#__PURE__*/_jsx(UpButton,{onClick:function onClick(){return betUp();},children:\"Join UP\"})]})}),/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsxs(Stats,{children:[/*#__PURE__*/_jsx(Key,{style:{color:\"rgb(39, 255, 96)\"},children:\"Up pool\"}),/*#__PURE__*/_jsxs(Value,{children:[parseFloat(gameInfos.Pool1Amount)>0?parseFloat(gameInfos.Pool1Amount).toFixed(2):0,\" MATIC\"]})]}),/*#__PURE__*/_jsxs(Stats,{children:[/*#__PURE__*/_jsx(Key,{children:\"Prize pool\"}),/*#__PURE__*/_jsxs(Value,{children:[parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)>0?(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2):0,\" MATIC\"]})]}),/*#__PURE__*/_jsxs(Stats,{children:[/*#__PURE__*/_jsx(Key,{style:{color:\"rgb(255, 67, 67)\"},children:\"Down pool\"}),/*#__PURE__*/_jsxs(Value,{children:[parseFloat(gameInfos.Pool0Amount)>0?parseFloat(gameInfos.Pool0Amount).toFixed(2):0,\" MATIC\"]})]})]}),/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsxs(DownButton,{onClick:function onClick(){return betDown();},children:[\"DOWN x\",gameInfos.Pool0Payout,\" Payout\"]}),children:/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsx(Stats,{children:/*#__PURE__*/_jsx(InputAmount,{ref:inputAmount,onKeyPress:function onKeyPress(event){if(!/^[0-9]*[.,]?[0-9]*$/.test(event.key)){event.preventDefault();}},inputmode:\"decimal\",autocomplete:\"off\",autocorrect:\"off\",type:\"text\",pattern:\"^[0-9]*[.,]?[0-9]*$\",placeholder:\"0.0\",minlength:\"1\",maxlength:\"79\",spellcheck:\"false\",style:{width:\"100%\"}})}),/*#__PURE__*/_jsx(DownButton,{onClick:function onClick(){return betDown();},children:\"Join Down\"})]})}),/*#__PURE__*/_jsx(OutputContainer,{children:/*#__PURE__*/_jsx(Output,{children:gameInfos.playerState})})]});};var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\\n\\tborder: 3px solid rgb(149, 177, 254);\\n\\tcolor: rgb(84, 36, 50);\\n\\tmargin-top: 5rem;\\n\\twidth: 400px;\\n\\theight: 350px;\\n\\tborder-radius: 1rem;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tfont-family: Inter,sans-serif;\\n\\tflex-direction:column;\\n\"])));var StatusContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\tbackground-color: #191b1f;\\n\\tborder : #191b1f;\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\"])));var State=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\twidth: 33%;\\n\\ttext-align: center;\\n\\tcolor: rgb(39, 255, 96);\\n\"])));var Time=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\twidth: 33%;\\n\\ttext-align: center;\\n\\tcolor: rgb(149, 177, 254);\\n\"])));var Id=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n\\twidth: 33%;\\n\\ttext-align: center;\\n\\tcolor: rgb(149, 177, 254);\\n\"])));var UpButton=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n\\tfont-size: 100%;\\n\\theight: 50%;\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 100%;\\n\\tborder: 3px solid rgb(39, 255, 96);\\n\\tbackground:rgb(149, 177, 254);\\n\\tcolor: rgb(39, 255, 96);\\n\\ttext-align: center;\\n\\tcursor: pointer;\\n\\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\\n\\t&:hover {\\n\\t\\tbackground-color: rgb(39, 220, 96);\\n\\t\\tcolor: white;\\n\\t}\\n\"])));var DownButton=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n\\tfont-size: 100%;\\n\\theight: 50%;\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 100%;\\n\\tborder: 3px solid rgb(255, 67, 67);\\n\\tbackground:rgb(206, 162, 206);\\n\\tcolor: rgb(255, 67, 67);\\n\\ttext-align: center;\\n\\tcursor: pointer;\\n\\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\\n\\t&:hover {\\n\\t\\tbackground-color: rgb(255, 67, 67);\\n\\t\\tcolor: white;\\n\\t}\\n\"])));var InputAmount=styled.input(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n\\tbackground-color: rgb(33, 36, 41);\\n\\tborder : 1px solid rgb(33, 36, 41);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth:100%;\\n\\ttext-align: center;\\n\\tcolor: rgb(149, 177, 254);\\n\"])));var StatsContainer=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n\\tbackground-color: #191b1f;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder-radius: 0.5rem;\\n\"])));var Stats=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n\\tpadding: 0.7rem;\\n\\tborder-radius: 0.5rem;\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\"])));var Key=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n\\tbackground-color: rgb(33, 36, 41);\\n\\tborder : 1px solid rgb(33, 36, 41);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth:100%;\\n\\ttext-align: center;\\n\\tcolor: rgb(149, 177, 254);\\n\"])));var Value=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n\\tcolor: rgb(149, 177, 254);\\n\\tborder : 1px solid rgb(33, 36, 41);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 60%;\\n\\ttext-align: center;\\n\"])));var OutputContainer=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n\\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\\n\\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 100%;\\n\\theight: 10%;\\n\\tjustify-content: center;\\n\"])));var Output=styled.p(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n\\ttext-align: center;\\t\\n\"])));export default Betting;","map":{"version":3,"sources":["/Users/gianningamy/cryptobet/front-end/master/src/Components/Betting.jsx"],"names":["React","useState","useEffect","styled","Web3","Popup","Betting","userInfos","idCurrentGame","inputAmount","createRef","web3","window","ethereum","abi","contract","eth","Contract","gameInfos","setGameInfos","betUp","enable","Boolean","current","value","match","betAmount","replace","methods","joinUp","send","from","account","utils","toWei","betDown","joinDown","getGameInfos","idGame","currentGameId","Games","call","then","receipt","game","getCurrentPrice","currentPrice","priceStart","previousTime","parseInt","priceEnd","endTimestamp","min","String","Math","floor","Date","now","users","userAmount","playerState","amount","poolChoice","fromWei","statusGame","upAmount","downAmount","parseFloat","toFixed","Pool1Amount","Pool0Amount","Pool1Payout","Pool0Payout","status","CurrentPrice","CurrentGameId","TimeLeft","setTimeout","event","test","key","preventDefault","width","color","Container","div","StatusContainer","State","Time","Id","UpButton","button","DownButton","InputAmount","input","StatsContainer","Stats","Key","Value","OutputContainer","Output","p"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from 'web3'\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\n\nconst Betting = ({userInfos, idCurrentGame}) => {\n\tlet inputAmount = React.createRef();\n\tconst web3 = new Web3(window.ethereum);\n\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\tconst [gameInfos, setGameInfos] = useState(\"\");\n\n\tasync function betUp(){\n\t\tawait window.ethereum.enable();\n\n\t\tif(Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){\n\t\t\tlet betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t \tawait contract.methods.joinUp().send({from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\")});\n\t\t }\n\t}\n\n\tasync function betDown(){\n\t\tawait window.ethereum.enable();\n\n\t\tif(Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){\n\t\t\tlet betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t \tawait contract.methods.joinDown().send({from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\")});\n\t\t }\n\t}\n\n\tasync function getGameInfos(idGame){\n\t\t\tawait window.ethereum.enable();\n\t\t\tvar game;\n\t\t\tvar statusGame;\n\t\t\tvar currentPrice;\n\t\t\tvar currentGameId = idGame;\n\n\t\t\tawait contract.methods.Games(currentGameId).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tgame = receipt;\n\t\t\t\t});\n\n\t\t\tawait contract.methods.getCurrentPrice().call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tcurrentPrice = receipt/10 ** 8;\n\t\t\t\t});\n\n\t\t\tvar priceStart = 0;\n\t\t\tvar previousTime = 0;\n\t\t\tif(currentGameId !== 0){\n\t\t\t\tawait contract.methods.Games(parseInt(currentGameId)-1).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tpriceStart = receipt.priceEnd / 10 ** 8;\n\t    \t\t\tpreviousTime = receipt.endTimestamp;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar min = String((previousTime - Math.floor(Date.now()/1000)) % 60);\n\t\t\tif(min < 10)\tmin  = \"0\"+ min\n\n\t\t\tvar userAmount = await contract.methods.users(currentGameId, userInfos.account).call();\n\n\t\t\tvar playerState = parseInt(userAmount.amount);\n\t\t\tif(playerState > 0){\n\t\t\t\tif(userAmount.poolChoice == 0)\tplayerState = \"DOWN : \" + await web3.utils.fromWei(userAmount.amount, 'ether')\n\t\t\t\telse\tplayerState = \"UP : \" + await web3.utils.fromWei(userAmount.amount, 'ether') + \" MATIC\"\n\t\t\t}else{\n\t\t\t\tif(Math.floor((previousTime - Math.floor(Date.now()/1000))/60) < 0){\n\t\t\t\t\tplayerState = \"OUT\"\n\t\t\t\t}else{\n\t\t\t\t\tplayerState = \"Click on Up/Down button to enter the game\"\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tstatusGame = \"Next\"\n\t\t\tsetGameInfos({\n\t\t\t\tPool1Amount : await web3.utils.fromWei(game.upAmount, 'ether'),\n\t\t\t\tPool0Amount : await web3.utils.fromWei(game.downAmount, 'ether'),\n\t\t\t\tPool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tPool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tstatus: statusGame,\n\t\t\t\tpriceStart : priceStart.toFixed(3),\n\t\t\t\tCurrentPrice: currentPrice.toFixed(3), \n\t\t\t\tCurrentGameId: currentGameId,\n\t\t\t\tplayerState: playerState,\n\t\t\t\tTimeLeft: Math.floor((previousTime - Math.floor(Date.now()/1000))/60) >= 0 ? \"Time left : \" + String(Math.floor((previousTime - Math.floor(Date.now()/1000))/60)) + \" : \" + min : \"Locked\"\n\t\t\t})\n\t}\n\tuseEffect(() => {\n\t\tsetTimeout(() => {  getGameInfos(idCurrentGame); }, 1000);\n\t},[gameInfos, idCurrentGame]);\n\treturn (\n\t\t<Container>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>{gameInfos.status}</State>\n\t\t\t\t<Time>{gameInfos.TimeLeft}</Time>\n\t\t\t\t<Id> #{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Popup trigger={<UpButton onClick={() => betUp()}>UP x{gameInfos.Pool1Payout} Payout</UpButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount ref={inputAmount} onKeyPress={(event) => {if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {event.preventDefault();}}} inputmode=\"decimal\" autocomplete=\"off\" autocorrect=\"off\" type=\"text\" pattern=\"^[0-9]*[.,]?[0-9]*$\" placeholder=\"0.0\" minlength=\"1\" maxlength=\"79\" spellcheck=\"false\" style={{width: \"100%\"}}/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<UpButton onClick={() => betUp()}>Join UP</UpButton>\n\t\t\t\t</StatsContainer>\n  \t\t\t</Popup>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{color: \"rgb(39, 255, 96)\"}}>Up pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool1Amount) > 0 ? parseFloat(gameInfos.Pool1Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>{(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)) > 0 ? (parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{color: \"rgb(255, 67, 67)\"}}>Down pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool0Amount) > 0 ? parseFloat(gameInfos.Pool0Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Popup trigger={<DownButton onClick={() => betDown()}>DOWN x{gameInfos.Pool0Payout} Payout</DownButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount ref={inputAmount} onKeyPress={(event) => {if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {event.preventDefault();}}} inputmode=\"decimal\" autocomplete=\"off\" autocorrect=\"off\" type=\"text\" pattern=\"^[0-9]*[.,]?[0-9]*$\" placeholder=\"0.0\" minlength=\"1\" maxlength=\"79\" spellcheck=\"false\" style={{width: \"100%\"}}/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<DownButton onClick={() => betDown()}>Join Down</DownButton>\n\t\t\t\t</StatsContainer>\n  \t\t\t</Popup>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 3px solid rgb(149, 177, 254);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(39, 255, 96);\n`\n\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst UpButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(39, 220, 96);\n\t\tcolor: white;\n\t}\n`\n\nconst DownButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(255, 67, 67);\n\t\tcolor: white;\n\t}\n`\n\nconst InputAmount = styled.input`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\t\n`\n\nexport default Betting\n"]},"metadata":{},"sourceType":"module"}