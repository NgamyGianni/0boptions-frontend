{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { forwardRef, useRef, useImperativeHandle } from 'react';\nimport { useIsomorphicLayoutEffect } from '../shared/use-isomorphic-layout-effect';\nimport { classNames, getExtraAttrs, emit, getSlots, noUndefinedProps } from '../shared/utils';\nimport { colorClasses } from '../shared/mixins';\nimport Link from './link';\nimport Input from './input';\nimport { f7ready, f7 } from '../shared/f7';\nimport { watchProp } from '../shared/watch-prop';\nvar Messagebar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _f7Messagebar = useRef(null);\n\n  var updateSheetVisible = useRef(false);\n  var updateAttachmentsVisible = useRef(false);\n  var className = props.className,\n      id = props.id,\n      style = props.style,\n      sheetVisible = props.sheetVisible,\n      attachmentsVisible = props.attachmentsVisible,\n      top = props.top,\n      _props$resizable = props.resizable,\n      resizable = _props$resizable === void 0 ? true : _props$resizable,\n      _props$bottomOffset = props.bottomOffset,\n      bottomOffset = _props$bottomOffset === void 0 ? 0 : _props$bottomOffset,\n      _props$topOffset = props.topOffset,\n      topOffset = _props$topOffset === void 0 ? 0 : _props$topOffset,\n      maxHeight = props.maxHeight,\n      _props$resizePage = props.resizePage,\n      resizePage = _props$resizePage === void 0 ? true : _props$resizePage,\n      sendLink = props.sendLink,\n      value = props.value,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      textareaId = props.textareaId,\n      name = props.name,\n      _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? 'Message' : _props$placeholder,\n      _props$init = props.init,\n      init = _props$init === void 0 ? true : _props$init;\n  var extraAttrs = getExtraAttrs(props);\n  var elRef = useRef(null);\n  var areaElRef = useRef(null);\n\n  var onChange = function onChange(event) {\n    emit(props, 'change', event);\n  };\n\n  var onInput = function onInput(event) {\n    emit(props, 'input', event);\n  };\n\n  var onFocus = function onFocus(event) {\n    emit(props, 'focus', event);\n  };\n\n  var onBlur = function onBlur(event) {\n    emit(props, 'blur', event);\n  };\n\n  var onClick = function onClick(event) {\n    var inputValue = areaElRef.current.el.value;\n    var clear = _f7Messagebar.current ? function () {\n      _f7Messagebar.current.clear();\n    } : function () {};\n    emit(props, 'submit', inputValue, clear);\n    emit(props, 'send', inputValue, clear);\n    emit(props, 'click', event);\n  };\n\n  var onAttachmentDelete = function onAttachmentDelete(instance, attachmentEl, attachmentElIndex) {\n    emit(props, 'messagebarAttachmentDelete', instance, attachmentEl, attachmentElIndex);\n  };\n\n  var onAttachmentClick = function onAttachmentClick(instance, attachmentEl, attachmentElIndex) {\n    emit(props, 'messagebarAttachmentClick', instance, attachmentEl, attachmentElIndex);\n  };\n\n  var onResizePage = function onResizePage(instance) {\n    emit(props, 'messagebarResizePage', instance);\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      el: elRef.current,\n      f7Messagebar: function f7Messagebar() {\n        return _f7Messagebar.current;\n      }\n    };\n  });\n  watchProp(sheetVisible, function () {\n    if (!resizable || !_f7Messagebar.current) return;\n    updateSheetVisible.current = true;\n  });\n  watchProp(attachmentsVisible, function () {\n    if (!resizable || !_f7Messagebar.current) return;\n    updateAttachmentsVisible.current = true;\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (!_f7Messagebar.current) return;\n\n    if (updateSheetVisible.current) {\n      updateSheetVisible.current = false;\n      _f7Messagebar.current.sheetVisible = sheetVisible;\n\n      _f7Messagebar.current.resizePage();\n    }\n\n    if (updateAttachmentsVisible.current) {\n      updateAttachmentsVisible.current = false;\n      _f7Messagebar.current.attachmentsVisible = attachmentsVisible;\n\n      _f7Messagebar.current.resizePage();\n    }\n  });\n\n  var onMount = function onMount() {\n    if (!init) return;\n    if (!elRef.current) return;\n    var params = noUndefinedProps({\n      el: elRef.current,\n      top: top,\n      resizePage: resizePage,\n      bottomOffset: bottomOffset,\n      topOffset: topOffset,\n      maxHeight: maxHeight,\n      on: {\n        attachmentDelete: onAttachmentDelete,\n        attachmentClick: onAttachmentClick,\n        resizePage: onResizePage\n      }\n    });\n    f7ready(function () {\n      _f7Messagebar.current = f7.messagebar.create(params);\n    });\n  };\n\n  var onDestroy = function onDestroy() {\n    if (_f7Messagebar.current && _f7Messagebar.current.destroy) _f7Messagebar.current.destroy();\n    _f7Messagebar.current = null;\n  };\n\n  useIsomorphicLayoutEffect(function () {\n    onMount();\n    return onDestroy;\n  }, []);\n  var slots = getSlots(props);\n  var slotsDefault = slots.default,\n      slotsBeforeInner = slots['before-inner'],\n      slotsAfterInner = slots['after-inner'],\n      slotsSendLink = slots['send-link'],\n      slotsInnerStart = slots['inner-start'],\n      slotsInnerEnd = slots['inner-end'],\n      slotsBeforeArea = slots['before-area'],\n      slotsAfterArea = slots['after-area'];\n  var innerEndEls = [];\n  var messagebarAttachmentsEl;\n  var messagebarSheetEl;\n\n  if (slotsDefault) {\n    slotsDefault.forEach(function (child) {\n      if (typeof child === 'undefined') return;\n      var tag = child.type && (child.type.displayName || child.type.name);\n\n      if (tag && (tag.indexOf('messagebar-attachments') >= 0 || tag === 'F7MessagebarAttachments' || tag === 'f7-messagebar-attachments')) {\n        messagebarAttachmentsEl = child;\n      } else if (tag && (tag.indexOf('messagebar-sheet') >= 0 || tag === 'F7MessagebarSheet' || tag === 'f7-messagebar-sheet')) {\n        messagebarSheetEl = child;\n      } else {\n        innerEndEls.push(child);\n      }\n    });\n  }\n\n  var valueProps = {};\n  if ('value' in props) valueProps.value = value;\n  var classes = classNames(className, 'toolbar', 'messagebar', {\n    'messagebar-attachments-visible': attachmentsVisible,\n    'messagebar-sheet-visible': sheetVisible\n  }, colorClasses(props));\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    id: id,\n    style: style,\n    className: classes,\n    ref: elRef\n  }, extraAttrs), slotsBeforeInner, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbar-inner\"\n  }, slotsInnerStart, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messagebar-area\"\n  }, slotsBeforeArea, messagebarAttachmentsEl, /*#__PURE__*/React.createElement(Input, _extends({\n    id: textareaId,\n    ref: areaElRef,\n    type: \"textarea\",\n    wrap: false,\n    placeholder: placeholder,\n    disabled: disabled,\n    name: name,\n    readonly: readonly,\n    resizable: resizable,\n    onInput: onInput,\n    onChange: onChange,\n    onFocus: onFocus,\n    onBlur: onBlur\n  }, valueProps)), slotsAfterArea), (sendLink && sendLink.length > 0 || slotsSendLink) && /*#__PURE__*/React.createElement(Link, {\n    onClick: onClick\n  }, slotsSendLink || sendLink), slotsInnerEnd, innerEndEls), slotsAfterInner, messagebarSheetEl);\n});\nMessagebar.displayName = 'f7-messagebar';\nexport default Messagebar;","map":{"version":3,"sources":["/Users/gianningamy/cryptobet/front-end/master/node_modules/framework7-react/esm/components/messagebar.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","forwardRef","useRef","useImperativeHandle","useIsomorphicLayoutEffect","classNames","getExtraAttrs","emit","getSlots","noUndefinedProps","colorClasses","Link","Input","f7ready","f7","watchProp","Messagebar","props","ref","_f7Messagebar","updateSheetVisible","updateAttachmentsVisible","className","id","style","sheetVisible","attachmentsVisible","top","_props$resizable","resizable","_props$bottomOffset","bottomOffset","_props$topOffset","topOffset","maxHeight","_props$resizePage","resizePage","sendLink","value","disabled","readonly","textareaId","name","_props$placeholder","placeholder","_props$init","init","extraAttrs","elRef","areaElRef","onChange","event","onInput","onFocus","onBlur","onClick","inputValue","current","el","clear","onAttachmentDelete","instance","attachmentEl","attachmentElIndex","onAttachmentClick","onResizePage","f7Messagebar","onMount","params","on","attachmentDelete","attachmentClick","messagebar","create","onDestroy","destroy","slots","slotsDefault","default","slotsBeforeInner","slotsAfterInner","slotsSendLink","slotsInnerStart","slotsInnerEnd","slotsBeforeArea","slotsAfterArea","innerEndEls","messagebarAttachmentsEl","messagebarSheetEl","forEach","child","tag","type","displayName","indexOf","push","valueProps","classes","createElement","wrap"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { forwardRef, useRef, useImperativeHandle } from 'react';\nimport { useIsomorphicLayoutEffect } from '../shared/use-isomorphic-layout-effect';\nimport { classNames, getExtraAttrs, emit, getSlots, noUndefinedProps } from '../shared/utils';\nimport { colorClasses } from '../shared/mixins';\nimport Link from './link';\nimport Input from './input';\nimport { f7ready, f7 } from '../shared/f7';\nimport { watchProp } from '../shared/watch-prop';\n\n\nvar Messagebar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _f7Messagebar = useRef(null);\n\n  var updateSheetVisible = useRef(false);\n  var updateAttachmentsVisible = useRef(false);\n  var className = props.className,\n      id = props.id,\n      style = props.style,\n      sheetVisible = props.sheetVisible,\n      attachmentsVisible = props.attachmentsVisible,\n      top = props.top,\n      _props$resizable = props.resizable,\n      resizable = _props$resizable === void 0 ? true : _props$resizable,\n      _props$bottomOffset = props.bottomOffset,\n      bottomOffset = _props$bottomOffset === void 0 ? 0 : _props$bottomOffset,\n      _props$topOffset = props.topOffset,\n      topOffset = _props$topOffset === void 0 ? 0 : _props$topOffset,\n      maxHeight = props.maxHeight,\n      _props$resizePage = props.resizePage,\n      resizePage = _props$resizePage === void 0 ? true : _props$resizePage,\n      sendLink = props.sendLink,\n      value = props.value,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      textareaId = props.textareaId,\n      name = props.name,\n      _props$placeholder = props.placeholder,\n      placeholder = _props$placeholder === void 0 ? 'Message' : _props$placeholder,\n      _props$init = props.init,\n      init = _props$init === void 0 ? true : _props$init;\n  var extraAttrs = getExtraAttrs(props);\n  var elRef = useRef(null);\n  var areaElRef = useRef(null);\n\n  var onChange = function onChange(event) {\n    emit(props, 'change', event);\n  };\n\n  var onInput = function onInput(event) {\n    emit(props, 'input', event);\n  };\n\n  var onFocus = function onFocus(event) {\n    emit(props, 'focus', event);\n  };\n\n  var onBlur = function onBlur(event) {\n    emit(props, 'blur', event);\n  };\n\n  var onClick = function onClick(event) {\n    var inputValue = areaElRef.current.el.value;\n    var clear = _f7Messagebar.current ? function () {\n      _f7Messagebar.current.clear();\n    } : function () {};\n    emit(props, 'submit', inputValue, clear);\n    emit(props, 'send', inputValue, clear);\n    emit(props, 'click', event);\n  };\n\n  var onAttachmentDelete = function onAttachmentDelete(instance, attachmentEl, attachmentElIndex) {\n    emit(props, 'messagebarAttachmentDelete', instance, attachmentEl, attachmentElIndex);\n  };\n\n  var onAttachmentClick = function onAttachmentClick(instance, attachmentEl, attachmentElIndex) {\n    emit(props, 'messagebarAttachmentClick', instance, attachmentEl, attachmentElIndex);\n  };\n\n  var onResizePage = function onResizePage(instance) {\n    emit(props, 'messagebarResizePage', instance);\n  };\n\n  useImperativeHandle(ref, function () {\n    return {\n      el: elRef.current,\n      f7Messagebar: function f7Messagebar() {\n        return _f7Messagebar.current;\n      }\n    };\n  });\n  watchProp(sheetVisible, function () {\n    if (!resizable || !_f7Messagebar.current) return;\n    updateSheetVisible.current = true;\n  });\n  watchProp(attachmentsVisible, function () {\n    if (!resizable || !_f7Messagebar.current) return;\n    updateAttachmentsVisible.current = true;\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (!_f7Messagebar.current) return;\n\n    if (updateSheetVisible.current) {\n      updateSheetVisible.current = false;\n      _f7Messagebar.current.sheetVisible = sheetVisible;\n\n      _f7Messagebar.current.resizePage();\n    }\n\n    if (updateAttachmentsVisible.current) {\n      updateAttachmentsVisible.current = false;\n      _f7Messagebar.current.attachmentsVisible = attachmentsVisible;\n\n      _f7Messagebar.current.resizePage();\n    }\n  });\n\n  var onMount = function onMount() {\n    if (!init) return;\n    if (!elRef.current) return;\n    var params = noUndefinedProps({\n      el: elRef.current,\n      top: top,\n      resizePage: resizePage,\n      bottomOffset: bottomOffset,\n      topOffset: topOffset,\n      maxHeight: maxHeight,\n      on: {\n        attachmentDelete: onAttachmentDelete,\n        attachmentClick: onAttachmentClick,\n        resizePage: onResizePage\n      }\n    });\n    f7ready(function () {\n      _f7Messagebar.current = f7.messagebar.create(params);\n    });\n  };\n\n  var onDestroy = function onDestroy() {\n    if (_f7Messagebar.current && _f7Messagebar.current.destroy) _f7Messagebar.current.destroy();\n    _f7Messagebar.current = null;\n  };\n\n  useIsomorphicLayoutEffect(function () {\n    onMount();\n    return onDestroy;\n  }, []);\n  var slots = getSlots(props);\n  var slotsDefault = slots.default,\n      slotsBeforeInner = slots['before-inner'],\n      slotsAfterInner = slots['after-inner'],\n      slotsSendLink = slots['send-link'],\n      slotsInnerStart = slots['inner-start'],\n      slotsInnerEnd = slots['inner-end'],\n      slotsBeforeArea = slots['before-area'],\n      slotsAfterArea = slots['after-area'];\n  var innerEndEls = [];\n  var messagebarAttachmentsEl;\n  var messagebarSheetEl;\n\n  if (slotsDefault) {\n    slotsDefault.forEach(function (child) {\n      if (typeof child === 'undefined') return;\n      var tag = child.type && (child.type.displayName || child.type.name);\n\n      if (tag && (tag.indexOf('messagebar-attachments') >= 0 || tag === 'F7MessagebarAttachments' || tag === 'f7-messagebar-attachments')) {\n        messagebarAttachmentsEl = child;\n      } else if (tag && (tag.indexOf('messagebar-sheet') >= 0 || tag === 'F7MessagebarSheet' || tag === 'f7-messagebar-sheet')) {\n        messagebarSheetEl = child;\n      } else {\n        innerEndEls.push(child);\n      }\n    });\n  }\n\n  var valueProps = {};\n  if ('value' in props) valueProps.value = value;\n  var classes = classNames(className, 'toolbar', 'messagebar', {\n    'messagebar-attachments-visible': attachmentsVisible,\n    'messagebar-sheet-visible': sheetVisible\n  }, colorClasses(props));\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    id: id,\n    style: style,\n    className: classes,\n    ref: elRef\n  }, extraAttrs), slotsBeforeInner, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toolbar-inner\"\n  }, slotsInnerStart, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messagebar-area\"\n  }, slotsBeforeArea, messagebarAttachmentsEl, /*#__PURE__*/React.createElement(Input, _extends({\n    id: textareaId,\n    ref: areaElRef,\n    type: \"textarea\",\n    wrap: false,\n    placeholder: placeholder,\n    disabled: disabled,\n    name: name,\n    readonly: readonly,\n    resizable: resizable,\n    onInput: onInput,\n    onChange: onChange,\n    onFocus: onFocus,\n    onBlur: onBlur\n  }, valueProps)), slotsAfterArea), (sendLink && sendLink.length > 0 || slotsSendLink) && /*#__PURE__*/React.createElement(Link, {\n    onClick: onClick\n  }, slotsSendLink || sendLink), slotsInnerEnd, innerEndEls), slotsAfterInner, messagebarSheetEl);\n});\nMessagebar.displayName = 'f7-messagebar';\nexport default Messagebar;"]},"metadata":{},"sourceType":"module"}