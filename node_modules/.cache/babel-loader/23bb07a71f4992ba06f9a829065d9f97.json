{"ast":null,"code":"var _jsxFileName = \"/Users/gianningamy/cryptobet/front-end/master/src/Components/Betting.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Web3 from 'web3';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Betting = ({\n  userInfos,\n  idCurrentGame\n}) => {\n  _s();\n\n  let inputAmount = /*#__PURE__*/React.createRef();\n  const web3 = new Web3(window.ethereum);\n  let abi = [{\n    \"inputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"constructor\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"uint256\",\n      \"name\": \"_lastGame\",\n      \"type\": \"uint256\"\n    }, {\n      \"indexed\": true,\n      \"internalType\": \"uint256\",\n      \"name\": \"_game\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_changeCurrentGame\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [],\n    \"name\": \"_initCycle\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"_from\",\n      \"type\": \"address\"\n    }, {\n      \"indexed\": true,\n      \"internalType\": \"uint256\",\n      \"name\": \"_game\",\n      \"type\": \"uint256\"\n    }, {\n      \"indexed\": false,\n      \"internalType\": \"uint256\",\n      \"name\": \"_value\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_joinDown\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"_from\",\n      \"type\": \"address\"\n    }, {\n      \"indexed\": true,\n      \"internalType\": \"uint256\",\n      \"name\": \"_game\",\n      \"type\": \"uint256\"\n    }, {\n      \"indexed\": false,\n      \"internalType\": \"uint256\",\n      \"name\": \"_value\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_joinUp\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"_from\",\n      \"type\": \"address\"\n    }, {\n      \"indexed\": true,\n      \"internalType\": \"uint256[]\",\n      \"name\": \"_game\",\n      \"type\": \"uint256[]\"\n    }, {\n      \"indexed\": false,\n      \"internalType\": \"uint256\",\n      \"name\": \"_value\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_reward\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"address\",\n      \"name\": \"_address\",\n      \"type\": \"address\"\n    }, {\n      \"indexed\": false,\n      \"internalType\": \"uint256\",\n      \"name\": \"_value\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_rewardAdmin\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"uint256\",\n      \"name\": \"update\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_setIntervalTime\",\n    \"type\": \"event\"\n  }, {\n    \"anonymous\": false,\n    \"inputs\": [{\n      \"indexed\": true,\n      \"internalType\": \"uint256\",\n      \"name\": \"_game\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"_updateTreasury\",\n    \"type\": \"event\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"Games\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"upAmount\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"downAmount\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"totalAmount\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"rewardAmount\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"rewardPoolAmount\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"bool\",\n      \"name\": \"rewardCalculated\",\n      \"type\": \"bool\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"endTimestamp\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"int256\",\n      \"name\": \"priceEnd\",\n      \"type\": \"int256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"NextCurrentGame\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"admin\",\n    \"outputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"currentGameId\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"feesAmount\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"feesRate\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"getCurrentPrice\",\n    \"outputs\": [{\n      \"internalType\": \"int256\",\n      \"name\": \"_price\",\n      \"type\": \"int256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"_user\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"getUserAvailableWins\",\n    \"outputs\": [{\n      \"internalType\": \"uint256[]\",\n      \"name\": \"_winGames\",\n      \"type\": \"uint256[]\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"_user\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"getUserGames\",\n    \"outputs\": [{\n      \"internalType\": \"uint256[]\",\n      \"name\": \"games\",\n      \"type\": \"uint256[]\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"_user\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"getUserTotalAmount\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"amountGames\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"_user\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"getUserWinAmount\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_winAmount\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"_user\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"getUserWins\",\n    \"outputs\": [{\n      \"internalType\": \"uint256[]\",\n      \"name\": \"_winGames\",\n      \"type\": \"uint256[]\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"initCycle\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"intervalSeconds\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"idGame\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"address\",\n      \"name\": \"_address\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"isWinner\",\n    \"outputs\": [{\n      \"internalType\": \"bool\",\n      \"name\": \"_isWinner\",\n      \"type\": \"bool\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"joinDown\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [],\n    \"name\": \"joinUp\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256[]\",\n      \"name\": \"idGames\",\n      \"type\": \"uint256[]\"\n    }],\n    \"name\": \"reward\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address payable\",\n      \"name\": \"_address\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"rewardAdmin\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"_intervalSeconds\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"setIntervalSeconds\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"address\",\n      \"name\": \"\",\n      \"type\": \"address\"\n    }, {\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"name\": \"userGames\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }, {\n    \"inputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"address\",\n      \"name\": \"\",\n      \"type\": \"address\"\n    }],\n    \"name\": \"users\",\n    \"outputs\": [{\n      \"internalType\": \"uint256\",\n      \"name\": \"amount\",\n      \"type\": \"uint256\"\n    }, {\n      \"internalType\": \"uint8\",\n      \"name\": \"poolChoice\",\n      \"type\": \"uint8\"\n    }, {\n      \"internalType\": \"bool\",\n      \"name\": \"claimed\",\n      \"type\": \"bool\"\n    }],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }];\n  let contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n  const [gameInfos, setGameInfos] = useState(\"\");\n\n  async function betUp() {\n    await window.ethereum.enable();\n\n    if (Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))) {\n      let betAmount = inputAmount.current.value.replace(\",\", \".\");\n      await contract.methods.joinUp().send({\n        from: userInfos.account,\n        value: web3.utils.toWei(betAmount, \"ether\")\n      });\n    }\n  }\n\n  async function betDown() {\n    await window.ethereum.enable();\n\n    if (Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))) {\n      let betAmount = inputAmount.current.value.replace(\",\", \".\");\n      await contract.methods.joinDown().send({\n        from: userInfos.account,\n        value: web3.utils.toWei(betAmount, \"ether\")\n      });\n    }\n  }\n\n  async function getGameInfos(idGame) {\n    //await window.ethereum.enable();\n    var game;\n    var statusGame;\n    var currentPrice;\n    var currentGameId = idGame;\n    await contract.methods.Games(currentGameId).call().then(function (receipt) {\n      game = receipt;\n    });\n    await contract.methods.getCurrentPrice().call().then(function (receipt) {\n      currentPrice = receipt / 10 ** 8;\n    });\n    var priceStart = 0;\n    var previousTime = 0;\n\n    if (currentGameId !== 0) {\n      await contract.methods.Games(parseInt(currentGameId) - 1).call().then(function (receipt) {\n        priceStart = receipt.priceEnd / 10 ** 8;\n        previousTime = receipt.endTimestamp;\n      });\n    }\n\n    var min = String((previousTime - Math.floor(Date.now() / 1000)) % 60);\n    if (min < 10) min = \"0\" + min;\n    var userAmount = await contract.methods.users(currentGameId, userInfos.account).call();\n    var playerState = parseInt(userAmount.amount);\n\n    if (playerState > 0) {\n      if (userAmount.poolChoice == 0) playerState = \"DOWN : \" + (await web3.utils.fromWei(userAmount.amount, 'ether'));else playerState = \"UP : \" + (await web3.utils.fromWei(userAmount.amount, 'ether')) + \" MATIC\";\n    } else {\n      if (Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60) < 0) {\n        playerState = \"OUT\";\n      } else {\n        playerState = \"Click on Up/Down button to enter the game\";\n      }\n    }\n\n    setGameInfos({\n      Pool1Amount: await web3.utils.fromWei(game.upAmount, 'ether'),\n      Pool0Amount: await web3.utils.fromWei(game.downAmount, 'ether'),\n      Pool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount) + parseFloat(game.downAmount)) / parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n      Pool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount) + parseFloat(game.downAmount)) / parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n      priceStart: priceStart.toFixed(3),\n      CurrentPrice: currentPrice.toFixed(3),\n      CurrentGameId: currentGameId,\n      playerState: playerState,\n      previousTime: previousTime,\n      min: min,\n      TimeLeft: Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60) >= 0 ? \"Time left : \" + String(Math.floor((previousTime - Math.floor(Date.now() / 1000)) / 60)) + \" : \" + min : \"Locked\"\n    });\n  }\n\n  const [counter, setCounter] = useState(0);\n  useEffect(() => {\n    console.log(\"bet\");\n    getGameInfos(idCurrentGame);\n    setTimeout(() => {\n      setCounter(counter + 1);\n    }, 1000);\n  }, [counter]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(StatusContainer, {\n      children: [/*#__PURE__*/_jsxDEV(State, {\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Time, {\n        children: gameInfos.TimeLeft\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Id, {\n        children: [\" #\", gameInfos.CurrentGameId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: /*#__PURE__*/_jsxDEV(UpButton, {\n        onClick: () => betUp(),\n        children: [\"UP x\", gameInfos.Pool1Payout, \" Payout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 20\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(StatsContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Stats, {\n          children: /*#__PURE__*/_jsxDEV(InputAmount, {\n            ref: inputAmount,\n            onKeyPress: event => {\n              if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {\n                event.preventDefault();\n              }\n            },\n            inputmode: \"decimal\",\n            autocomplete: \"off\",\n            autocorrect: \"off\",\n            type: \"text\",\n            pattern: \"^[0-9]*[.,]?[0-9]*$\",\n            placeholder: \"0.0\",\n            minlength: \"1\",\n            maxlength: \"79\",\n            spellcheck: \"false\",\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(UpButton, {\n          onClick: () => betUp(),\n          children: \"Join UP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(StatsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Stats, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          style: {\n            color: \"rgb(39, 255, 96)\"\n          },\n          children: \"Up pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: [parseFloat(gameInfos.Pool1Amount) > 0 ? parseFloat(gameInfos.Pool1Amount).toFixed(2) : 0, \" MATIC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Stats, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          children: \"Prize pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: [parseFloat(gameInfos.Pool0Amount) + parseFloat(gameInfos.Pool1Amount) > 0 ? (parseFloat(gameInfos.Pool0Amount) + parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0, \" MATIC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Stats, {\n        children: [/*#__PURE__*/_jsxDEV(Key, {\n          style: {\n            color: \"rgb(255, 67, 67)\"\n          },\n          children: \"Down pool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Value, {\n          children: [parseFloat(gameInfos.Pool0Amount) > 0 ? parseFloat(gameInfos.Pool0Amount).toFixed(2) : 0, \" MATIC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: /*#__PURE__*/_jsxDEV(DownButton, {\n        onClick: () => betDown(),\n        children: [\"DOWN x\", gameInfos.Pool0Payout, \" Payout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 20\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(StatsContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Stats, {\n          children: /*#__PURE__*/_jsxDEV(InputAmount, {\n            ref: inputAmount,\n            onKeyPress: event => {\n              if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {\n                event.preventDefault();\n              }\n            },\n            inputmode: \"decimal\",\n            autocomplete: \"off\",\n            autocorrect: \"off\",\n            type: \"text\",\n            pattern: \"^[0-9]*[.,]?[0-9]*$\",\n            placeholder: \"0.0\",\n            minlength: \"1\",\n            maxlength: \"79\",\n            spellcheck: \"false\",\n            style: {\n              width: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(DownButton, {\n          onClick: () => betDown(),\n          children: \"Join Down\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(OutputContainer, {\n      children: /*#__PURE__*/_jsxDEV(Output, {\n        children: gameInfos.playerState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Betting, \"u8BrwXWzAejLqRJfCFGtU0+XyWE=\");\n\n_c = Betting;\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 3px solid rgb(149, 177, 254);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`;\n_c2 = Container;\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`;\n_c3 = StatusContainer;\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(39, 255, 96);\n`;\n_c4 = State;\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c5 = Time;\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c6 = Id;\nconst UpButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(39, 220, 96);\n\t\tcolor: white;\n\t}\n`;\n_c7 = UpButton;\nconst DownButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(255, 67, 67);\n\t\tcolor: white;\n\t}\n`;\n_c8 = DownButton;\nconst InputAmount = styled.input`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c9 = InputAmount;\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`;\n_c10 = StatsContainer;\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`;\n_c11 = Stats;\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`;\n_c12 = Key;\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`;\n_c13 = Value;\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`;\n_c14 = OutputContainer;\nconst Output = styled.p`\n\ttext-align: center;\t\n`;\n_c15 = Output;\nexport default Betting;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"Betting\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"StatusContainer\");\n$RefreshReg$(_c4, \"State\");\n$RefreshReg$(_c5, \"Time\");\n$RefreshReg$(_c6, \"Id\");\n$RefreshReg$(_c7, \"UpButton\");\n$RefreshReg$(_c8, \"DownButton\");\n$RefreshReg$(_c9, \"InputAmount\");\n$RefreshReg$(_c10, \"StatsContainer\");\n$RefreshReg$(_c11, \"Stats\");\n$RefreshReg$(_c12, \"Key\");\n$RefreshReg$(_c13, \"Value\");\n$RefreshReg$(_c14, \"OutputContainer\");\n$RefreshReg$(_c15, \"Output\");","map":{"version":3,"sources":["/Users/gianningamy/cryptobet/front-end/master/src/Components/Betting.jsx"],"names":["React","useState","useEffect","styled","Web3","Popup","Betting","userInfos","idCurrentGame","inputAmount","createRef","web3","window","ethereum","abi","contract","eth","Contract","gameInfos","setGameInfos","betUp","enable","Boolean","current","value","match","betAmount","replace","methods","joinUp","send","from","account","utils","toWei","betDown","joinDown","getGameInfos","idGame","game","statusGame","currentPrice","currentGameId","Games","call","then","receipt","getCurrentPrice","priceStart","previousTime","parseInt","priceEnd","endTimestamp","min","String","Math","floor","Date","now","userAmount","users","playerState","amount","poolChoice","fromWei","Pool1Amount","upAmount","Pool0Amount","downAmount","Pool1Payout","parseFloat","toFixed","Pool0Payout","CurrentPrice","CurrentGameId","TimeLeft","counter","setCounter","console","log","setTimeout","event","test","key","preventDefault","width","color","Container","div","StatusContainer","State","Time","Id","UpButton","button","DownButton","InputAmount","input","StatsContainer","Stats","Key","Value","OutputContainer","Output","p"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAO,8BAAP;;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA,SAAD;AAAYC,EAAAA;AAAZ,CAAD,KAAgC;AAAA;;AAC/C,MAAIC,WAAW,gBAAGT,KAAK,CAACU,SAAN,EAAlB;AACA,QAAMC,IAAI,GAAG,IAAIP,IAAJ,CAASQ,MAAM,CAACC,QAAhB,CAAb;AACA,MAAIC,GAAG,GAAG,CAAC;AAAC,cAAS,EAAV;AAAa,uBAAkB,YAA/B;AAA4C,YAAO;AAAnD,GAAD,EAAmE;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,WAAhD;AAA4D,cAAO;AAAnE,KAAD,EAA+E;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAA/E,CAA5B;AAAsL,YAAO,oBAA7L;AAAkN,YAAO;AAAzN,GAAnE,EAAqS;AAAC,iBAAY,KAAb;AAAmB,cAAS,EAA5B;AAA+B,YAAO,YAAtC;AAAmD,YAAO;AAA1D,GAArS,EAAwW;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAAD,EAA2E;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAA3E,EAAqJ;AAAC,iBAAU,KAAX;AAAiB,sBAAe,SAAhC;AAA0C,cAAO,QAAjD;AAA0D,cAAO;AAAjE,KAArJ,CAA5B;AAA8P,YAAO,WAArQ;AAAiR,YAAO;AAAxR,GAAxW,EAAyoB;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAAD,EAA2E;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAA3E,EAAqJ;AAAC,iBAAU,KAAX;AAAiB,sBAAe,SAAhC;AAA0C,cAAO,QAAjD;AAA0D,cAAO;AAAjE,KAArJ,CAA5B;AAA8P,YAAO,SAArQ;AAA+Q,YAAO;AAAtR,GAAzoB,EAAw6B;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAAD,EAA2E;AAAC,iBAAU,IAAX;AAAgB,sBAAe,WAA/B;AAA2C,cAAO,OAAlD;AAA0D,cAAO;AAAjE,KAA3E,EAAyJ;AAAC,iBAAU,KAAX;AAAiB,sBAAe,SAAhC;AAA0C,cAAO,QAAjD;AAA0D,cAAO;AAAjE,KAAzJ,CAA5B;AAAkQ,YAAO,SAAzQ;AAAmR,YAAO;AAA1R,GAAx6B,EAA2sC;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,UAAhD;AAA2D,cAAO;AAAlE,KAAD,EAA8E;AAAC,iBAAU,KAAX;AAAiB,sBAAe,SAAhC;AAA0C,cAAO,QAAjD;AAA0D,cAAO;AAAjE,KAA9E,CAA5B;AAAuL,YAAO,cAA9L;AAA6M,YAAO;AAApN,GAA3sC,EAAw6C;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,QAAhD;AAAyD,cAAO;AAAhE,KAAD,CAA5B;AAAyG,YAAO,kBAAhH;AAAmI,YAAO;AAA1I,GAAx6C,EAA2jD;AAAC,iBAAY,KAAb;AAAmB,cAAS,CAAC;AAAC,iBAAU,IAAX;AAAgB,sBAAe,SAA/B;AAAyC,cAAO,OAAhD;AAAwD,cAAO;AAA/D,KAAD,CAA5B;AAAwG,YAAO,iBAA/G;AAAiI,YAAO;AAAxI,GAA3jD,EAA4sD;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAAV;AAAkE,YAAO,OAAzE;AAAiF,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,UAAjC;AAA4C,cAAO;AAAnD,KAAD,EAA+D;AAAC,sBAAe,SAAhB;AAA0B,cAAO,YAAjC;AAA8C,cAAO;AAArD,KAA/D,EAA+H;AAAC,sBAAe,SAAhB;AAA0B,cAAO,aAAjC;AAA+C,cAAO;AAAtD,KAA/H,EAAgM;AAAC,sBAAe,SAAhB;AAA0B,cAAO,cAAjC;AAAgD,cAAO;AAAvD,KAAhM,EAAkQ;AAAC,sBAAe,SAAhB;AAA0B,cAAO,kBAAjC;AAAoD,cAAO;AAA3D,KAAlQ,EAAwU;AAAC,sBAAe,MAAhB;AAAuB,cAAO,kBAA9B;AAAiD,cAAO;AAAxD,KAAxU,EAAwY;AAAC,sBAAe,SAAhB;AAA0B,cAAO,cAAjC;AAAgD,cAAO;AAAvD,KAAxY,EAA0c;AAAC,sBAAe,QAAhB;AAAyB,cAAO,UAAhC;AAA2C,cAAO;AAAlD,KAA1c,CAA3F;AAAkmB,uBAAkB,MAApnB;AAA2nB,YAAO;AAAloB,GAA5sD,EAA01E;AAAC,cAAS,EAAV;AAAa,YAAO,iBAApB;AAAsC,eAAU,EAAhD;AAAmD,uBAAkB,YAArE;AAAkF,YAAO;AAAzF,GAA11E,EAA+7E;AAAC,cAAS,EAAV;AAAa,YAAO,OAApB;AAA4B,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAAtC;AAA8F,uBAAkB,MAAhH;AAAuH,YAAO;AAA9H,GAA/7E,EAAykF;AAAC,cAAS,EAAV;AAAa,YAAO,eAApB;AAAoC,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAA9C;AAAsG,uBAAkB,MAAxH;AAA+H,YAAO;AAAtI,GAAzkF,EAA2tF;AAAC,cAAS,EAAV;AAAa,YAAO,YAApB;AAAiC,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAA3C;AAAmG,uBAAkB,MAArH;AAA4H,YAAO;AAAnI,GAA3tF,EAA02F;AAAC,cAAS,EAAV;AAAa,YAAO,UAApB;AAA+B,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAAzC;AAAiG,uBAAkB,MAAnH;AAA0H,YAAO;AAAjI,GAA12F,EAAu/F;AAAC,cAAS,EAAV;AAAa,YAAO,iBAApB;AAAsC,eAAU,CAAC;AAAC,sBAAe,QAAhB;AAAyB,cAAO,QAAhC;AAAyC,cAAO;AAAhD,KAAD,CAAhD;AAA4G,uBAAkB,MAA9H;AAAqI,YAAO;AAA5I,GAAv/F,EAA+oG;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,OAAjC;AAAyC,cAAO;AAAhD,KAAD,CAAV;AAAuE,YAAO,sBAA9E;AAAqG,eAAU,CAAC;AAAC,sBAAe,WAAhB;AAA4B,cAAO,WAAnC;AAA+C,cAAO;AAAtD,KAAD,CAA/G;AAAoL,uBAAkB,MAAtM;AAA6M,YAAO;AAApN,GAA/oG,EAA+2G;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,OAAjC;AAAyC,cAAO;AAAhD,KAAD,CAAV;AAAuE,YAAO,cAA9E;AAA6F,eAAU,CAAC;AAAC,sBAAe,WAAhB;AAA4B,cAAO,OAAnC;AAA2C,cAAO;AAAlD,KAAD,CAAvG;AAAwK,uBAAkB,MAA1L;AAAiM,YAAO;AAAxM,GAA/2G,EAAmkH;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,OAAjC;AAAyC,cAAO;AAAhD,KAAD,CAAV;AAAuE,YAAO,oBAA9E;AAAmG,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,aAAjC;AAA+C,cAAO;AAAtD,KAAD,CAA7G;AAAgL,uBAAkB,MAAlM;AAAyM,YAAO;AAAhN,GAAnkH,EAA+xH;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,OAAjC;AAAyC,cAAO;AAAhD,KAAD,CAAV;AAAuE,YAAO,kBAA9E;AAAiG,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,YAAjC;AAA8C,cAAO;AAArD,KAAD,CAA3G;AAA6K,uBAAkB,MAA/L;AAAsM,YAAO;AAA7M,GAA/xH,EAAw/H;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,OAAjC;AAAyC,cAAO;AAAhD,KAAD,CAAV;AAAuE,YAAO,aAA9E;AAA4F,eAAU,CAAC;AAAC,sBAAe,WAAhB;AAA4B,cAAO,WAAnC;AAA+C,cAAO;AAAtD,KAAD,CAAtG;AAA2K,uBAAkB,MAA7L;AAAoM,YAAO;AAA3M,GAAx/H,EAA+sI;AAAC,cAAS,EAAV;AAAa,YAAO,WAApB;AAAgC,eAAU,EAA1C;AAA6C,uBAAkB,YAA/D;AAA4E,YAAO;AAAnF,GAA/sI,EAA8yI;AAAC,cAAS,EAAV;AAAa,YAAO,iBAApB;AAAsC,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAAhD;AAAwG,uBAAkB,MAA1H;AAAiI,YAAO;AAAxI,GAA9yI,EAAk8I;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,QAAjC;AAA0C,cAAO;AAAjD,KAAD,EAA6D;AAAC,sBAAe,SAAhB;AAA0B,cAAO,UAAjC;AAA4C,cAAO;AAAnD,KAA7D,CAAV;AAAsI,YAAO,UAA7I;AAAwJ,eAAU,CAAC;AAAC,sBAAe,MAAhB;AAAuB,cAAO,WAA9B;AAA0C,cAAO;AAAjD,KAAD,CAAlK;AAA6N,uBAAkB,MAA/O;AAAsP,YAAO;AAA7P,GAAl8I,EAA2sJ;AAAC,cAAS,EAAV;AAAa,YAAO,UAApB;AAA+B,eAAU,EAAzC;AAA4C,uBAAkB,SAA9D;AAAwE,YAAO;AAA/E,GAA3sJ,EAAsyJ;AAAC,cAAS,EAAV;AAAa,YAAO,QAApB;AAA6B,eAAU,EAAvC;AAA0C,uBAAkB,SAA5D;AAAsE,YAAO;AAA7E,GAAtyJ,EAA+3J;AAAC,cAAS,CAAC;AAAC,sBAAe,WAAhB;AAA4B,cAAO,SAAnC;AAA6C,cAAO;AAApD,KAAD,CAAV;AAA6E,YAAO,QAApF;AAA6F,eAAU,EAAvG;AAA0G,uBAAkB,YAA5H;AAAyI,YAAO;AAAhJ,GAA/3J,EAA2hK;AAAC,cAAS,CAAC;AAAC,sBAAe,iBAAhB;AAAkC,cAAO,UAAzC;AAAoD,cAAO;AAA3D,KAAD,CAAV;AAAkF,YAAO,aAAzF;AAAuG,eAAU,EAAjH;AAAoH,uBAAkB,YAAtI;AAAmJ,YAAO;AAA1J,GAA3hK,EAAisK;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,kBAAjC;AAAoD,cAAO;AAA3D,KAAD,CAAV;AAAkF,YAAO,oBAAzF;AAA8G,eAAU,EAAxH;AAA2H,uBAAkB,YAA7I;AAA0J,YAAO;AAAjK,GAAjsK,EAA82K;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,EAAuD;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAvD,CAAV;AAAwH,YAAO,WAA/H;AAA2I,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,CAArJ;AAA6M,uBAAkB,MAA/N;AAAsO,YAAO;AAA7O,GAA92K,EAAumL;AAAC,cAAS,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAD,EAAuD;AAAC,sBAAe,SAAhB;AAA0B,cAAO,EAAjC;AAAoC,cAAO;AAA3C,KAAvD,CAAV;AAAwH,YAAO,OAA/H;AAAuI,eAAU,CAAC;AAAC,sBAAe,SAAhB;AAA0B,cAAO,QAAjC;AAA0C,cAAO;AAAjD,KAAD,EAA6D;AAAC,sBAAe,OAAhB;AAAwB,cAAO,YAA/B;AAA4C,cAAO;AAAnD,KAA7D,EAAyH;AAAC,sBAAe,MAAhB;AAAuB,cAAO,SAA9B;AAAwC,cAAO;AAA/C,KAAzH,CAAjJ;AAAkU,uBAAkB,MAApV;AAA2V,YAAO;AAAlW,GAAvmL,CAAV;AACA,MAAIC,QAAQ,GAAG,IAAIJ,IAAI,CAACK,GAAL,CAASC,QAAb,CAAsBH,GAAtB,EAA2B,4CAA3B,CAAf;AAEA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BlB,QAAQ,CAAC,EAAD,CAA1C;;AAEA,iBAAemB,KAAf,GAAsB;AACrB,UAAMR,MAAM,CAACC,QAAP,CAAgBQ,MAAhB,EAAN;;AAEA,QAAGC,OAAO,CAACb,WAAW,CAACc,OAAZ,CAAoBC,KAApB,CAA0BC,KAA1B,CAAgC,qBAAhC,CAAD,CAAV,EAAmE;AAClE,UAAIC,SAAS,GAAGjB,WAAW,CAACc,OAAZ,CAAoBC,KAApB,CAA0BG,OAA1B,CAAkC,GAAlC,EAAuC,GAAvC,CAAhB;AACC,YAAMZ,QAAQ,CAACa,OAAT,CAAiBC,MAAjB,GAA0BC,IAA1B,CAA+B;AAACC,QAAAA,IAAI,EAAExB,SAAS,CAACyB,OAAjB;AAA0BR,QAAAA,KAAK,EAAEb,IAAI,CAACsB,KAAL,CAAWC,KAAX,CAAiBR,SAAjB,EAA4B,OAA5B;AAAjC,OAA/B,CAAN;AACA;AACF;;AAED,iBAAeS,OAAf,GAAwB;AACvB,UAAMvB,MAAM,CAACC,QAAP,CAAgBQ,MAAhB,EAAN;;AAEA,QAAGC,OAAO,CAACb,WAAW,CAACc,OAAZ,CAAoBC,KAApB,CAA0BC,KAA1B,CAAgC,qBAAhC,CAAD,CAAV,EAAmE;AAClE,UAAIC,SAAS,GAAGjB,WAAW,CAACc,OAAZ,CAAoBC,KAApB,CAA0BG,OAA1B,CAAkC,GAAlC,EAAuC,GAAvC,CAAhB;AACC,YAAMZ,QAAQ,CAACa,OAAT,CAAiBQ,QAAjB,GAA4BN,IAA5B,CAAiC;AAACC,QAAAA,IAAI,EAAExB,SAAS,CAACyB,OAAjB;AAA0BR,QAAAA,KAAK,EAAEb,IAAI,CAACsB,KAAL,CAAWC,KAAX,CAAiBR,SAAjB,EAA4B,OAA5B;AAAjC,OAAjC,CAAN;AACA;AACF;;AAED,iBAAeW,YAAf,CAA4BC,MAA5B,EAAmC;AACjC;AACA,QAAIC,IAAJ;AACA,QAAIC,UAAJ;AACA,QAAIC,YAAJ;AACA,QAAIC,aAAa,GAAGJ,MAApB;AAEA,UAAMvB,QAAQ,CAACa,OAAT,CAAiBe,KAAjB,CAAuBD,aAAvB,EAAsCE,IAAtC,GACJC,IADI,CACC,UAASC,OAAT,EAAiB;AACnBP,MAAAA,IAAI,GAAGO,OAAP;AACH,KAHI,CAAN;AAKA,UAAM/B,QAAQ,CAACa,OAAT,CAAiBmB,eAAjB,GAAmCH,IAAnC,GACJC,IADI,CACC,UAASC,OAAT,EAAiB;AACnBL,MAAAA,YAAY,GAAGK,OAAO,GAAC,MAAM,CAA7B;AACH,KAHI,CAAN;AAKA,QAAIE,UAAU,GAAG,CAAjB;AACA,QAAIC,YAAY,GAAG,CAAnB;;AACA,QAAGP,aAAa,KAAK,CAArB,EAAuB;AACtB,YAAM3B,QAAQ,CAACa,OAAT,CAAiBe,KAAjB,CAAuBO,QAAQ,CAACR,aAAD,CAAR,GAAwB,CAA/C,EAAkDE,IAAlD,GACLC,IADK,CACA,UAASC,OAAT,EAAiB;AACnBE,QAAAA,UAAU,GAAGF,OAAO,CAACK,QAAR,GAAmB,MAAM,CAAtC;AACAF,QAAAA,YAAY,GAAGH,OAAO,CAACM,YAAvB;AACH,OAJK,CAAN;AAKA;;AAED,QAAIC,GAAG,GAAGC,MAAM,CAAC,CAACL,YAAY,GAAGM,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAW,IAAtB,CAAhB,IAA+C,EAAhD,CAAhB;AACA,QAAGL,GAAG,GAAG,EAAT,EAAaA,GAAG,GAAI,MAAKA,GAAZ;AAEb,QAAIM,UAAU,GAAG,MAAM5C,QAAQ,CAACa,OAAT,CAAiBgC,KAAjB,CAAuBlB,aAAvB,EAAsCnC,SAAS,CAACyB,OAAhD,EAAyDY,IAAzD,EAAvB;AAEA,QAAIiB,WAAW,GAAGX,QAAQ,CAACS,UAAU,CAACG,MAAZ,CAA1B;;AACA,QAAGD,WAAW,GAAG,CAAjB,EAAmB;AAClB,UAAGF,UAAU,CAACI,UAAX,IAAyB,CAA5B,EAA+BF,WAAW,GAAG,aAAY,MAAMlD,IAAI,CAACsB,KAAL,CAAW+B,OAAX,CAAmBL,UAAU,CAACG,MAA9B,EAAsC,OAAtC,CAAlB,CAAd,CAA/B,KACKD,WAAW,GAAG,WAAU,MAAMlD,IAAI,CAACsB,KAAL,CAAW+B,OAAX,CAAmBL,UAAU,CAACG,MAA9B,EAAsC,OAAtC,CAAhB,IAAiE,QAA/E;AACL,KAHD,MAGK;AACJ,UAAGP,IAAI,CAACC,KAAL,CAAW,CAACP,YAAY,GAAGM,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAW,IAAtB,CAAhB,IAA6C,EAAxD,IAA8D,CAAjE,EAAmE;AAClEG,QAAAA,WAAW,GAAG,KAAd;AACA,OAFD,MAEK;AACJA,QAAAA,WAAW,GAAG,2CAAd;AACA;AACD;;AAED1C,IAAAA,YAAY,CAAC;AACZ8C,MAAAA,WAAW,EAAG,MAAMtD,IAAI,CAACsB,KAAL,CAAW+B,OAAX,CAAmBzB,IAAI,CAAC2B,QAAxB,EAAkC,OAAlC,CADR;AAEZC,MAAAA,WAAW,EAAG,MAAMxD,IAAI,CAACsB,KAAL,CAAW+B,OAAX,CAAmBzB,IAAI,CAAC6B,UAAxB,EAAoC,OAApC,CAFR;AAGZC,MAAAA,WAAW,EAAEC,UAAU,CAAC/B,IAAI,CAAC2B,QAAN,CAAV,GAA4B,CAA5B,GAAgC,CAAC,CAACI,UAAU,CAAC/B,IAAI,CAAC2B,QAAN,CAAV,GAA0BI,UAAU,CAAC/B,IAAI,CAAC6B,UAAN,CAArC,IAAwDE,UAAU,CAAC/B,IAAI,CAAC2B,QAAN,CAAnE,EAAoFK,OAApF,CAA4F,CAA5F,CAAhC,GAAiI,MAHlI;AAIZC,MAAAA,WAAW,EAAEF,UAAU,CAAC/B,IAAI,CAAC6B,UAAN,CAAV,GAA8B,CAA9B,GAAkC,CAAC,CAACE,UAAU,CAAC/B,IAAI,CAAC2B,QAAN,CAAV,GAA0BI,UAAU,CAAC/B,IAAI,CAAC6B,UAAN,CAArC,IAAwDE,UAAU,CAAC/B,IAAI,CAAC6B,UAAN,CAAnE,EAAsFG,OAAtF,CAA8F,CAA9F,CAAlC,GAAqI,MAJtI;AAKZvB,MAAAA,UAAU,EAAGA,UAAU,CAACuB,OAAX,CAAmB,CAAnB,CALD;AAMZE,MAAAA,YAAY,EAAEhC,YAAY,CAAC8B,OAAb,CAAqB,CAArB,CANF;AAOZG,MAAAA,aAAa,EAAEhC,aAPH;AAQZmB,MAAAA,WAAW,EAAEA,WARD;AASZZ,MAAAA,YAAY,EAAEA,YATF;AAUZI,MAAAA,GAAG,EAAEA,GAVO;AAWZsB,MAAAA,QAAQ,EAAEpB,IAAI,CAACC,KAAL,CAAW,CAACP,YAAY,GAAGM,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAW,IAAtB,CAAhB,IAA6C,EAAxD,KAA+D,CAA/D,GAAmE,iBAAiBJ,MAAM,CAACC,IAAI,CAACC,KAAL,CAAW,CAACP,YAAY,GAAGM,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAW,IAAtB,CAAhB,IAA6C,EAAxD,CAAD,CAAvB,GAAuF,KAAvF,GAA+FL,GAAlK,GAAwK;AAXtK,KAAD,CAAZ;AAaD;;AACD,QAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwB5E,QAAQ,CAAC,CAAD,CAAtC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACf4E,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA1C,IAAAA,YAAY,CAAC7B,aAAD,CAAZ;AACAwE,IAAAA,UAAU,CAAC,MAAM;AAACH,MAAAA,UAAU,CAACD,OAAO,GAAC,CAAT,CAAV;AAAuB,KAA/B,EAAiC,IAAjC,CAAV;AACA,GAJQ,EAIP,CAACA,OAAD,CAJO,CAAT;AAKA,sBACC,QAAC,SAAD;AAAA,4BACC,QAAC,eAAD;AAAA,8BACC,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAEC,QAAC,IAAD;AAAA,kBAAO1D,SAAS,CAACyD;AAAjB;AAAA;AAAA;AAAA;AAAA,cAFD,eAGC,QAAC,EAAD;AAAA,yBAAOzD,SAAS,CAACwD,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,cAHD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAMC,QAAC,KAAD;AAAO,MAAA,OAAO,eAAE,QAAC,QAAD;AAAU,QAAA,OAAO,EAAE,MAAMtD,KAAK,EAA9B;AAAA,2BAAuCF,SAAS,CAACmD,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhB;AAAA,6BACC,QAAC,cAAD;AAAA,gCACC,QAAC,KAAD;AAAA,iCACC,QAAC,WAAD;AAAa,YAAA,GAAG,EAAE5D,WAAlB;AAA+B,YAAA,UAAU,EAAGwE,KAAD,IAAW;AAAC,kBAAI,CAAC,sBAAsBC,IAAtB,CAA2BD,KAAK,CAACE,GAAjC,CAAL,EAA4C;AAACF,gBAAAA,KAAK,CAACG,cAAN;AAAwB;AAAC,aAA7H;AAA+H,YAAA,SAAS,EAAC,SAAzI;AAAmJ,YAAA,YAAY,EAAC,KAAhK;AAAsK,YAAA,WAAW,EAAC,KAAlL;AAAwL,YAAA,IAAI,EAAC,MAA7L;AAAoM,YAAA,OAAO,EAAC,qBAA5M;AAAkO,YAAA,WAAW,EAAC,KAA9O;AAAoP,YAAA,SAAS,EAAC,GAA9P;AAAkQ,YAAA,SAAS,EAAC,IAA5Q;AAAiR,YAAA,UAAU,EAAC,OAA5R;AAAoS,YAAA,KAAK,EAAE;AAACC,cAAAA,KAAK,EAAE;AAAR;AAA3S;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAIC,QAAC,QAAD;AAAU,UAAA,OAAO,EAAE,MAAMjE,KAAK,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAND,eAcC,QAAC,cAAD;AAAA,8BACC,QAAC,KAAD;AAAA,gCACC,QAAC,GAAD;AAAK,UAAA,KAAK,EAAE;AAACkE,YAAAA,KAAK,EAAE;AAAR,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,QAAC,KAAD;AAAA,qBAAQhB,UAAU,CAACpD,SAAS,CAAC+C,WAAX,CAAV,GAAoC,CAApC,GAAwCK,UAAU,CAACpD,SAAS,CAAC+C,WAAX,CAAV,CAAkCM,OAAlC,CAA0C,CAA1C,CAAxC,GAAuF,CAA/F;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAKC,QAAC,KAAD;AAAA,gCACC,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,QAAC,KAAD;AAAA,qBAASD,UAAU,CAACpD,SAAS,CAACiD,WAAX,CAAV,GAAkCG,UAAU,CAACpD,SAAS,CAAC+C,WAAX,CAA7C,GAAwE,CAAxE,GAA4E,CAACK,UAAU,CAACpD,SAAS,CAACiD,WAAX,CAAV,GAAkCG,UAAU,CAACpD,SAAS,CAAC+C,WAAX,CAA7C,EAAsEM,OAAtE,CAA8E,CAA9E,CAA5E,GAA+J,CAAvK;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cALD,eASC,QAAC,KAAD;AAAA,gCACC,QAAC,GAAD;AAAK,UAAA,KAAK,EAAE;AAACe,YAAAA,KAAK,EAAE;AAAR,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,QAAC,KAAD;AAAA,qBAAQhB,UAAU,CAACpD,SAAS,CAACiD,WAAX,CAAV,GAAoC,CAApC,GAAwCG,UAAU,CAACpD,SAAS,CAACiD,WAAX,CAAV,CAAkCI,OAAlC,CAA0C,CAA1C,CAAxC,GAAuF,CAA/F;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cATD;AAAA;AAAA;AAAA;AAAA;AAAA,YAdD,eA4BC,QAAC,KAAD;AAAO,MAAA,OAAO,eAAE,QAAC,UAAD;AAAY,QAAA,OAAO,EAAE,MAAMpC,OAAO,EAAlC;AAAA,6BAA6CjB,SAAS,CAACsD,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhB;AAAA,6BACC,QAAC,cAAD;AAAA,gCACC,QAAC,KAAD;AAAA,iCACC,QAAC,WAAD;AAAa,YAAA,GAAG,EAAE/D,WAAlB;AAA+B,YAAA,UAAU,EAAGwE,KAAD,IAAW;AAAC,kBAAI,CAAC,sBAAsBC,IAAtB,CAA2BD,KAAK,CAACE,GAAjC,CAAL,EAA4C;AAACF,gBAAAA,KAAK,CAACG,cAAN;AAAwB;AAAC,aAA7H;AAA+H,YAAA,SAAS,EAAC,SAAzI;AAAmJ,YAAA,YAAY,EAAC,KAAhK;AAAsK,YAAA,WAAW,EAAC,KAAlL;AAAwL,YAAA,IAAI,EAAC,MAA7L;AAAoM,YAAA,OAAO,EAAC,qBAA5M;AAAkO,YAAA,WAAW,EAAC,KAA9O;AAAoP,YAAA,SAAS,EAAC,GAA9P;AAAkQ,YAAA,SAAS,EAAC,IAA5Q;AAAiR,YAAA,UAAU,EAAC,OAA5R;AAAoS,YAAA,KAAK,EAAE;AAACC,cAAAA,KAAK,EAAE;AAAR;AAA3S;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAIC,QAAC,UAAD;AAAY,UAAA,OAAO,EAAE,MAAMlD,OAAO,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YA5BD,eAoCC,QAAC,eAAD;AAAA,6BACC,QAAC,MAAD;AAAA,kBAASjB,SAAS,CAAC2C;AAAnB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YApCD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA0CA,CApID;;GAAMvD,O;;KAAAA,O;AAsIN,MAAMiF,SAAS,GAAGpF,MAAM,CAACqF,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAZA;MAAMD,S;AAcN,MAAME,eAAe,GAAGtF,MAAM,CAACqF,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;MAAMC,e;AAUN,MAAMC,KAAK,GAAGvF,MAAM,CAACqF,GAAI;AACzB;AACA;AACA;AACA,CAJA;MAAME,K;AAMN,MAAMC,IAAI,GAAGxF,MAAM,CAACqF,GAAI;AACxB;AACA;AACA;AACA,CAJA;MAAMG,I;AAMN,MAAMC,EAAE,GAAGzF,MAAM,CAACqF,GAAI;AACtB;AACA;AACA;AACA,CAJA;MAAMI,E;AAMN,MAAMC,QAAQ,GAAG1F,MAAM,CAAC2F,MAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhBA;MAAMD,Q;AAkBN,MAAME,UAAU,GAAG5F,MAAM,CAAC2F,MAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhBA;MAAMC,U;AAkBN,MAAMC,WAAW,GAAG7F,MAAM,CAAC8F,KAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;MAAMD,W;AAWN,MAAME,cAAc,GAAG/F,MAAM,CAACqF,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;OAAMU,c;AASN,MAAMC,KAAK,GAAGhG,MAAM,CAACqF,GAAI;AACzB;AACA;AACA;AACA;AACA,CALA;OAAMW,K;AAON,MAAMC,GAAG,GAAGjG,MAAM,CAACqF,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMY,G;AAUN,MAAMC,KAAK,GAAGlG,MAAM,CAACqF,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;OAAMa,K;AASN,MAAMC,eAAe,GAAGnG,MAAM,CAACqF,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMc,e;AAUN,MAAMC,MAAM,GAAGpG,MAAM,CAACqG,CAAE;AACxB;AACA,CAFA;OAAMD,M;AAIN,eAAejG,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from 'web3'\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\n\nconst Betting = ({userInfos, idCurrentGame}) => {\n\tlet inputAmount = React.createRef();\n\tconst web3 = new Web3(window.ethereum);\n\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\tconst [gameInfos, setGameInfos] = useState(\"\");\n\n\tasync function betUp(){\n\t\tawait window.ethereum.enable();\n\n\t\tif(Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){\n\t\t\tlet betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t \tawait contract.methods.joinUp().send({from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\")});\n\t\t }\n\t}\n\n\tasync function betDown(){\n\t\tawait window.ethereum.enable();\n\n\t\tif(Boolean(inputAmount.current.value.match(\"^[0-9]*[.,]?[0-9]*$\"))){\n\t\t\tlet betAmount = inputAmount.current.value.replace(\",\", \".\")\n\t\t \tawait contract.methods.joinDown().send({from: userInfos.account, value: web3.utils.toWei(betAmount, \"ether\")});\n\t\t }\n\t}\n\n\tasync function getGameInfos(idGame){\n\t\t\t//await window.ethereum.enable();\n\t\t\tvar game;\n\t\t\tvar statusGame;\n\t\t\tvar currentPrice;\n\t\t\tvar currentGameId = idGame;\n\n\t\t\tawait contract.methods.Games(currentGameId).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tgame = receipt;\n\t\t\t\t});\n\n\t\t\tawait contract.methods.getCurrentPrice().call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tcurrentPrice = receipt/10 ** 8;\n\t\t\t\t});\n\n\t\t\tvar priceStart = 0;\n\t\t\tvar previousTime = 0;\n\t\t\tif(currentGameId !== 0){\n\t\t\t\tawait contract.methods.Games(parseInt(currentGameId)-1).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tpriceStart = receipt.priceEnd / 10 ** 8;\n\t    \t\t\tpreviousTime = receipt.endTimestamp;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar min = String((previousTime - Math.floor(Date.now()/1000)) % 60);\n\t\t\tif(min < 10)\tmin  = \"0\"+ min\n\n\t\t\tvar userAmount = await contract.methods.users(currentGameId, userInfos.account).call();\n\n\t\t\tvar playerState = parseInt(userAmount.amount);\n\t\t\tif(playerState > 0){\n\t\t\t\tif(userAmount.poolChoice == 0)\tplayerState = \"DOWN : \" + await web3.utils.fromWei(userAmount.amount, 'ether')\n\t\t\t\telse\tplayerState = \"UP : \" + await web3.utils.fromWei(userAmount.amount, 'ether') + \" MATIC\"\n\t\t\t}else{\n\t\t\t\tif(Math.floor((previousTime - Math.floor(Date.now()/1000))/60) < 0){\n\t\t\t\t\tplayerState = \"OUT\"\n\t\t\t\t}else{\n\t\t\t\t\tplayerState = \"Click on Up/Down button to enter the game\"\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsetGameInfos({\n\t\t\t\tPool1Amount : await web3.utils.fromWei(game.upAmount, 'ether'),\n\t\t\t\tPool0Amount : await web3.utils.fromWei(game.downAmount, 'ether'),\n\t\t\t\tPool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tPool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tpriceStart : priceStart.toFixed(3),\n\t\t\t\tCurrentPrice: currentPrice.toFixed(3), \n\t\t\t\tCurrentGameId: currentGameId,\n\t\t\t\tplayerState: playerState,\n\t\t\t\tpreviousTime: previousTime,\n\t\t\t\tmin: min,\n\t\t\t\tTimeLeft: Math.floor((previousTime - Math.floor(Date.now()/1000))/60) >= 0 ? \"Time left : \" + String(Math.floor((previousTime - Math.floor(Date.now()/1000))/60)) + \" : \" + min : \"Locked\"\n\t\t\t})\n\t}\n\tconst [counter, setCounter] = useState(0)\n\tuseEffect(() => {\n\t\tconsole.log(\"bet\")\n\t\tgetGameInfos(idCurrentGame);\n\t\tsetTimeout(() => {setCounter(counter+1);}, 1000)\n\t},[counter]);\n\treturn (\n\t\t<Container>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>Next</State>\n\t\t\t\t<Time>{gameInfos.TimeLeft}</Time>\n\t\t\t\t<Id> #{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Popup trigger={<UpButton onClick={() => betUp()}>UP x{gameInfos.Pool1Payout} Payout</UpButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount ref={inputAmount} onKeyPress={(event) => {if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {event.preventDefault();}}} inputmode=\"decimal\" autocomplete=\"off\" autocorrect=\"off\" type=\"text\" pattern=\"^[0-9]*[.,]?[0-9]*$\" placeholder=\"0.0\" minlength=\"1\" maxlength=\"79\" spellcheck=\"false\" style={{width: \"100%\"}}/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<UpButton onClick={() => betUp()}>Join UP</UpButton>\n\t\t\t\t</StatsContainer>\n  \t\t\t</Popup>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{color: \"rgb(39, 255, 96)\"}}>Up pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool1Amount) > 0 ? parseFloat(gameInfos.Pool1Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>{(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)) > 0 ? (parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key style={{color: \"rgb(255, 67, 67)\"}}>Down pool</Key>\n\t\t\t\t\t<Value>{parseFloat(gameInfos.Pool0Amount) > 0 ? parseFloat(gameInfos.Pool0Amount).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Popup trigger={<DownButton onClick={() => betDown()}>DOWN x{gameInfos.Pool0Payout} Payout</DownButton>}>\n\t\t\t\t<StatsContainer>\n\t\t\t\t\t<Stats>\n\t\t\t\t\t\t<InputAmount ref={inputAmount} onKeyPress={(event) => {if (!/^[0-9]*[.,]?[0-9]*$/.test(event.key)) {event.preventDefault();}}} inputmode=\"decimal\" autocomplete=\"off\" autocorrect=\"off\" type=\"text\" pattern=\"^[0-9]*[.,]?[0-9]*$\" placeholder=\"0.0\" minlength=\"1\" maxlength=\"79\" spellcheck=\"false\" style={{width: \"100%\"}}/>\n\t\t\t\t\t</Stats>\n\t\t\t\t\t<DownButton onClick={() => betDown()}>Join Down</DownButton>\n\t\t\t\t</StatsContainer>\n  \t\t\t</Popup>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder: 3px solid rgb(149, 177, 254);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(39, 255, 96);\n`\n\nconst Time = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Id = styled.div`\n\twidth: 33%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst UpButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(39, 220, 96);\n\t\tcolor: white;\n\t}\n`\n\nconst DownButton = styled.button`\n\tfont-size: 100%;\n\theight: 50%;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n\tcursor: pointer;\n\ttransition: cubic-bezier(0.165, 0.84, 0.44, 1) 0.3s;\n\t&:hover {\n\t\tbackground-color: rgb(255, 67, 67);\n\t\tcolor: white;\n\t}\n`\n\nconst InputAmount = styled.input`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\t\n`\n\nexport default Betting\n"]},"metadata":{},"sourceType":"module"}