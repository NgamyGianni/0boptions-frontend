{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gianningamy/cryptobet/front-end/master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import Web3 from'web3';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PreviousGame=function PreviousGame(_ref){var userInfos=_ref.userInfos,idCurrentGame=_ref.idCurrentGame;var web3=new Web3(window.ethereum);var abi=[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];var contract=new web3.eth.Contract(abi,\"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),gameInfos=_useState2[0],setGameInfos=_useState2[1];function getGameInfos(_x){return _getGameInfos.apply(this,arguments);}function _getGameInfos(){_getGameInfos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(idGame){var game,statusGame,currentPrice,currentGameId,min,priceStart,userGame,poolChoice;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return window.ethereum.enable();case 2:currentGameId=idGame;_context.next=5;return contract.methods.Games(currentGameId).call().then(function(receipt){game=receipt;});case 5:_context.next=7;return contract.methods.getCurrentPrice().call().then(function(receipt){currentPrice=receipt/Math.pow(10,8);});case 7:min=String((game.endTimestamp-Math.floor(Date.now()/1000))%60);if(min<10)min=\"0\"+min;priceStart=0;if(!(currentGameId!==0)){_context.next=13;break;}_context.next=13;return contract.methods.Games(parseInt(currentGameId)-1).call().then(function(receipt){priceStart=receipt.priceEnd/Math.pow(10,8);});case 13:_context.next=15;return contract.methods.users(currentGameId,userInfos.account).call();case 15:userGame=_context.sent;poolChoice=userGame.poolChoice;if(poolChoice==1)poolChoice=\"UP\";else poolChoice=\"DOWN\";statusGame=\"Closed\";_context.t0=setGameInfos;_context.next=22;return web3.utils.fromWei(game.upAmount,'ether');case 22:_context.t1=_context.sent;_context.next=25;return web3.utils.fromWei(game.downAmount,'ether');case 25:_context.t2=_context.sent;_context.t3=parseFloat(game.upAmount)>0?((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2):\"1.00\";_context.t4=parseFloat(game.downAmount)>0?((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2):\"1.00\";_context.t5=statusGame;_context.t6=priceStart.toFixed(3);_context.t7=(game.priceEnd/Math.pow(10,8)).toFixed(3);_context.t8=currentPrice.toFixed(3);_context.t9=currentGameId;if(!(parseInt(userGame.amount)>0)){_context.next=42;break;}_context.t11=poolChoice+\" : \";_context.next=37;return web3.utils.fromWei(userGame.amount,'ether');case 37:_context.t12=_context.sent;_context.t13=_context.t11+_context.t12;_context.t10=_context.t13+\" MATIC\";_context.next=43;break;case 42:_context.t10=\"OUT\";case 43:_context.t14=_context.t10;_context.t15=String(Math.floor((game.endTimestamp-Math.floor(Date.now()/1000))/60))+\" : \"+min;_context.t16=game.priceEnd/Math.pow(10,8)>priceStart?\"UP\":\"DOWN\";_context.t17={Pool1Amount:_context.t1,Pool0Amount:_context.t2,Pool1Payout:_context.t3,Pool0Payout:_context.t4,status:_context.t5,PriceStart:_context.t6,PriceEnd:_context.t7,CurrentPrice:_context.t8,CurrentGameId:_context.t9,playerState:_context.t14,TimeLeft:_context.t15,winner:_context.t16};(0,_context.t0)(_context.t17);case 48:case\"end\":return _context.stop();}}},_callee);}));return _getGameInfos.apply(this,arguments);}useEffect(function(){setTimeout(function(){getGameInfos(idCurrentGame);},1000);},[gameInfos,idCurrentGame]);return/*#__PURE__*/_jsxs(Container,{style:gameInfos.winner===\"UP\"?{border:\"3px solid rgb(39, 255, 96)\"}:{border:\"3px solid rgb(255, 67, 67)\"},children:[/*#__PURE__*/_jsxs(StatusContainer,{children:[/*#__PURE__*/_jsx(State,{children:gameInfos.status}),/*#__PURE__*/_jsxs(Id,{children:[\"#\",gameInfos.CurrentGameId]})]}),/*#__PURE__*/_jsxs(Up,{style:gameInfos.winner===\"UP\"?{}:{background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\",color:\"rgb(84, 36, 50)\",border:\"3px solid rgb(84, 36, 50)\"},children:[\"UP x\",gameInfos.Pool1Payout,\" Payout\"]}),/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsxs(Stats,{children:[/*#__PURE__*/_jsx(Key,{children:\"Closed ETH price\"}),/*#__PURE__*/_jsxs(Value,{style:gameInfos.winner===\"UP\"?{border:\"3px solid rgb(39, 255, 96)\"}:{border:\"3px solid rgb(255, 67, 67)\"},children:[gameInfos.PriceEnd,\" $\"]})]}),/*#__PURE__*/_jsxs(Stats,{children:[/*#__PURE__*/_jsx(Key,{children:\"Locked ETH price\"}),/*#__PURE__*/_jsxs(Value,{children:[gameInfos.PriceStart,\" $\"]})]}),/*#__PURE__*/_jsxs(Stats,{children:[/*#__PURE__*/_jsx(Key,{children:\"Prize pool\"}),/*#__PURE__*/_jsxs(Value,{children:[parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)>0?(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2):0,\" MATIC\"]})]})]}),/*#__PURE__*/_jsxs(Down,{style:gameInfos.winner===\"DOWN\"?{}:{background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\",color:\"rgb(84, 36, 50)\",border:\"3px solid rgb(84, 36, 50)\"},children:[\"DOWN x\",gameInfos.Pool0Payout,\" Payout\"]}),/*#__PURE__*/_jsx(OutputContainer,{children:/*#__PURE__*/_jsx(Output,{children:gameInfos.playerState})})]});};var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\\n\\tcolor: rgb(84, 36, 50);\\n\\tmargin-top: 5rem;\\n\\twidth: 400px;\\n\\theight: 350px;\\n\\tborder-radius: 1rem;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tfont-family: Inter,sans-serif;\\n\\tflex-direction:column;\\n\"])));var StatusContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\tbackground-color: #191b1f;\\n\\tborder : #191b1f;\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\"])));var State=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\tgrid-area: Status;\\n\\twidth: 50%;\\n\\ttext-align: center;\\n\\tcolor: rgb(255, 67, 67)\\n\"])));var Id=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\tgrid-area: Status;\\n\\twidth: 50%;\\n\\ttext-align: center;\\n\\tcolor: rgb(149, 177, 254);\\n\"])));var Up=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 100%;\\n\\tborder: 3px solid rgb(39, 255, 96);\\n\\tbackground:rgb(149, 177, 254);\\n\\tcolor: rgb(39, 255, 96);\\n\\ttext-align: center;\\n\"])));var Down=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 100%;\\n\\tborder: 3px solid rgb(255, 67, 67);\\n\\tbackground:rgb(206, 162, 206);\\n\\tcolor: rgb(255, 67, 67);\\n\\ttext-align: center;\\n\"])));var StatsContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n\\tbackground-color: #191b1f;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder-radius: 0.5rem;\\n\"])));var Stats=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n\\tpadding: 0.7rem;\\n\\tborder-radius: 0.5rem;\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\"])));var Key=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n\\tbackground-color: rgb(33, 36, 41);\\n\\tborder : 1px solid rgb(33, 36, 41);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth:100%;\\n\\ttext-align: center;\\n\\tcolor: rgb(149, 177, 254);\\n\"])));var Value=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n\\tcolor: rgb(149, 177, 254);\\n\\tborder : 1px solid rgb(33, 36, 41);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 60%;\\n\\ttext-align: center;\\n\"])));var OutputContainer=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n\\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\\n\\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\\n\\tpadding: 0.5rem;\\n\\tborder-radius: 0.5rem;\\n\\twidth: 100%;\\n\\theight: 10%;\\n\\tjustify-content: center;\\n\"])));var Output=styled.p(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n\\ttext-align: center;\\t\\n\"])));export default PreviousGame;","map":{"version":3,"sources":["/Users/gianningamy/cryptobet/front-end/master/src/Components/PreviousGame.jsx"],"names":["React","useState","useEffect","styled","Web3","PreviousGame","userInfos","idCurrentGame","web3","window","ethereum","abi","contract","eth","Contract","gameInfos","setGameInfos","getGameInfos","idGame","enable","currentGameId","methods","Games","call","then","receipt","game","getCurrentPrice","currentPrice","min","String","endTimestamp","Math","floor","Date","now","priceStart","parseInt","priceEnd","users","account","userGame","poolChoice","statusGame","utils","fromWei","upAmount","downAmount","parseFloat","toFixed","amount","Pool1Amount","Pool0Amount","Pool1Payout","Pool0Payout","status","PriceStart","PriceEnd","CurrentPrice","CurrentGameId","playerState","TimeLeft","winner","setTimeout","border","background","color","Container","div","StatusContainer","State","Id","Up","Down","StatsContainer","Stats","Key","Value","OutputContainer","Output","p"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Web3 from 'web3'\n\nconst PreviousGame = ({userInfos, idCurrentGame}) => {\n\t\tconst web3 = new Web3(window.ethereum);\n\t\tlet abi = [{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_lastGame\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_changeCurrentGame\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"_initCycle\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinDown\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_joinUp\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256[]\",\"name\":\"_game\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_reward\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"_rewardAdmin\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"update\",\"type\":\"uint256\"}],\"name\":\"_setIntervalTime\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_game\",\"type\":\"uint256\"}],\"name\":\"_updateTreasury\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"Games\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"upAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"downAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"rewardPoolAmount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"rewardCalculated\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"endTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"priceEnd\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"NextCurrentGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentGameId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"feesRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentPrice\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"_price\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserAvailableWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserGames\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"games\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserTotalAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountGames\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWinAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"_winAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"getUserWins\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"_winGames\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initCycle\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"intervalSeconds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"idGame\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"isWinner\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"_isWinner\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinDown\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"joinUp\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[]\",\"name\":\"idGames\",\"type\":\"uint256[]\"}],\"name\":\"reward\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_address\",\"type\":\"address\"}],\"name\":\"rewardAdmin\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_intervalSeconds\",\"type\":\"uint256\"}],\"name\":\"setIntervalSeconds\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"userGames\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"users\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"poolChoice\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"claimed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}];\n\t\tlet contract = new web3.eth.Contract(abi, \"0xCa2d0B66cb00C9FFB7C35602c65EbefD06e291cB\");\n\n\t\tconst [gameInfos, setGameInfos] = useState(\"\");\n\n\tasync function getGameInfos(idGame){\n\t\t\tawait window.ethereum.enable();\n\t\t\tvar game;\n\t\t\tvar statusGame;\n\t\t\tvar currentPrice;\n\t\t\tvar currentGameId = idGame;\n\n\t\t\tawait contract.methods.Games(currentGameId).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tgame = receipt;\n\t\t\t\t});\n\n\t\t\tawait contract.methods.getCurrentPrice().call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tcurrentPrice = receipt/10 ** 8;\n\t\t\t\t});\n\n\t\t\tvar min = String((game.endTimestamp - Math.floor(Date.now()/1000)) % 60);\n\t\t\tif(min < 10)\tmin  = \"0\"+ min\n\n\t\t\tvar priceStart = 0;\n\t\t\tif(currentGameId !== 0){\n\t\t\t\tawait contract.methods.Games(parseInt(currentGameId)-1).call()\n\t\t\t\t.then(function(receipt){\n\t    \t\t\tpriceStart = receipt.priceEnd / 10 ** 8;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar userGame = await contract.methods.users(currentGameId, userInfos.account).call();\n\t\t\tvar poolChoice = userGame.poolChoice\n\t\t\tif(poolChoice == 1)\tpoolChoice = \"UP\"\n\t\t\telse\tpoolChoice = \"DOWN\"\n\n\t\t\tstatusGame = \"Closed\"\n\t\t\tsetGameInfos({\n\t\t\t\tPool1Amount : await web3.utils.fromWei(game.upAmount, 'ether'),\n\t\t\t\tPool0Amount : await web3.utils.fromWei(game.downAmount, 'ether'),\n\t\t\t\tPool1Payout: parseFloat(game.upAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.upAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tPool0Payout: parseFloat(game.downAmount) > 0 ? ((parseFloat(game.upAmount)+parseFloat(game.downAmount))/parseFloat(game.downAmount)).toFixed(2) : \"1.00\",\n\t\t\t\tstatus: statusGame,\n\t\t\t\tPriceStart : priceStart.toFixed(3),\n\t\t\t\tPriceEnd: (game.priceEnd / 10 ** 8).toFixed(3),\n\t\t\t\tCurrentPrice: currentPrice.toFixed(3), \n\t\t\t\tCurrentGameId: currentGameId,\n\t\t\t\tplayerState: parseInt(userGame.amount) > 0 ? poolChoice + \" : \" + await web3.utils.fromWei(userGame.amount, 'ether') + \" MATIC\": \"OUT\",\n\t\t\t\tTimeLeft: String(Math.floor((game.endTimestamp - Math.floor(Date.now()/1000))/60)) + \" : \" + min,\n\t\t\t\twinner: (game.priceEnd / 10 ** 8) > priceStart ? \"UP\" : \"DOWN\",\n\t\t\t})\n\t}\n\tuseEffect(() => {\n\t\tsetTimeout(() => {  getGameInfos(idCurrentGame); }, 1000);\n\t},[gameInfos, idCurrentGame]);\n\treturn (\n\t\t<Container style={gameInfos.winner === \"UP\" ? {border: \"3px solid rgb(39, 255, 96)\"} : {border: \"3px solid rgb(255, 67, 67)\"}}>\n\t\t\t<StatusContainer>\n\t\t\t\t<State>{gameInfos.status}</State>\n\t\t\t\t<Id>#{gameInfos.CurrentGameId}</Id>\n\t\t\t</StatusContainer>\n\t\t\t<Up style={gameInfos.winner === \"UP\" ? {} : {background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\", color:\"rgb(84, 36, 50)\", border: \"3px solid rgb(84, 36, 50)\"}}>UP x{gameInfos.Pool1Payout} Payout</Up>\n\t\t\t<StatsContainer>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Closed ETH price</Key>\n\t\t\t\t\t<Value style={gameInfos.winner === \"UP\" ? {border: \"3px solid rgb(39, 255, 96)\"} : {border: \"3px solid rgb(255, 67, 67)\"}}>{gameInfos.PriceEnd} $</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Locked ETH price</Key>\n\t\t\t\t\t<Value>{gameInfos.PriceStart} $</Value>\n\t\t\t\t</Stats>\n\t\t\t\t<Stats>\n\t\t\t\t\t<Key>Prize pool</Key>\n\t\t\t\t\t<Value>{(parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)) > 0 ? (parseFloat(gameInfos.Pool0Amount)+parseFloat(gameInfos.Pool1Amount)).toFixed(2) : 0} MATIC</Value>\n\t\t\t\t</Stats>\n\t\t\t</StatsContainer>\n\t\t\t<Down style={gameInfos.winner === \"DOWN\" ? {} : {background:\"linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%)\", color:\"rgb(84, 36, 50)\", border: \"3px solid rgb(84, 36, 50)\"}}>DOWN x{gameInfos.Pool0Payout} Payout</Down>\n\t\t\t<OutputContainer>\n\t\t\t\t<Output>{gameInfos.playerState}</Output>\n\t\t\t</OutputContainer>\n\t\t</Container>\n\t)\n}\n\nconst Container = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tcolor: rgb(84, 36, 50);\n\tmargin-top: 5rem;\n\twidth: 400px;\n\theight: 350px;\n\tborder-radius: 1rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\tfont-family: Inter,sans-serif;\n\tflex-direction:column;\n`\n\nconst StatusContainer = styled.div`\n\tbackground-color: #191b1f;\n\tborder : #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n`\n\nconst State = styled.div`\n\tgrid-area: Status;\n\twidth: 50%;\n\ttext-align: center;\n\tcolor: rgb(255, 67, 67)\n`\n\nconst Id = styled.div`\n\tgrid-area: Status;\n\twidth: 50%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Up = styled.div`\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(39, 255, 96);\n\tbackground:rgb(149, 177, 254);\n\tcolor: rgb(39, 255, 96);\n\ttext-align: center;\n`\n\nconst Down = styled.div`\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\tborder: 3px solid rgb(255, 67, 67);\n\tbackground:rgb(206, 162, 206);\n\tcolor: rgb(255, 67, 67);\n\ttext-align: center;\n`\n\nconst StatsContainer = styled.div`\n\tbackground-color: #191b1f;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 0.5rem;\n`\n\nconst Stats = styled.div`\n\tpadding: 0.7rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\twidth: 100%;\n`\n\nconst Key = styled.div`\n\tbackground-color: rgb(33, 36, 41);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth:100%;\n\ttext-align: center;\n\tcolor: rgb(149, 177, 254);\n`\n\nconst Value = styled.div`\n\tcolor: rgb(149, 177, 254);\n\tborder : 1px solid rgb(33, 36, 41);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 60%;\n\ttext-align: center;\n`\n\nconst OutputContainer = styled.div`\n\tbackground-image: linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tborder : 1px solid linear-gradient(90deg, rgb(206, 162, 206) 0%, rgb(149, 177, 254) 100%);\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\twidth: 100%;\n\theight: 10%;\n\tjustify-content: center;\n`\n\nconst Output = styled.p`\n\ttext-align: center;\t\n`\n\nexport default PreviousGame\n"]},"metadata":{},"sourceType":"module"}