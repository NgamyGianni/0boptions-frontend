{"ast":null,"code":"var _jsxFileName = \"/Users/gianningamy/cryptobet/front-end/master/src/Pages/Homepage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Betting from \"../Components/Betting\";\nimport { BiFootball, BiBasketball, BiTennisBall } from \"react-icons/bi\";\nimport { MdSportsRugby } from \"react-icons/md\";\nimport Navbar from \"../Components/Navbar\";\nimport Portfolio from \"../Components/Portfolio\";\nimport Web3 from 'web3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Homepage = () => {\n  _s();\n\n  const [userInfos, setUserInfos] = useState({\n    account: \"Not connected\",\n    balance: \"0\",\n    network: \"Not connected\",\n    contract: \"0x6A39369b186168D8470cC7b29Ab43E3C794AabD4\",\n    idCurrentGame: 0\n  });\n  const [selectedAccount, setSelectedAccount] = useState(\"\");\n\n  async function logAccount() {\n    let provider = window.ethereum;\n    const web3 = new Web3(window.ethereum);\n\n    if (typeof provider !== 'undefined') {\n      await provider.request({\n        method: 'eth_requestAccounts'\n      }).then(accounts => {\n        setSelectedAccount(accounts[0]);\n      }).catch(err => {\n        console.log(err);\n        return;\n      });\n      await window.ethereum.on('accountsChanged', function (accounts) {\n        setSelectedAccount(accounts[0]);\n      });\n\n      if (selectedAccount != \"\") {\n        setUserInfos({\n          account: selectedAccount,\n          balance: await web3.utils.fromWei(await web3.eth.getBalance(selectedAccount), 'ether'),\n          network: await web3.eth.net.getNetworkType(),\n          contract: \"0x6A39369b186168D8470cC7b29Ab43E3C794AabD4\",\n          status: \"connected\",\n          idCurrentGame: await contract.methods.currentGameId.call().call()\n        });\n        console.log(setUserInfos.idCurrentGame);\n      }\n    }\n  }\n\n  useEffect(() => {\n    logAccount();\n\n    if (window.ethereum) {\n      window.ethereum.on(\"chainChanged\", () => {\n        window.location.reload();\n      });\n      window.ethereum.on(\"accountsChanged\", () => {\n        window.location.reload();\n      });\n    }\n  }, [selectedAccount]);\n  return /*#__PURE__*/_jsxDEV(Main, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      userInfos: userInfos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Betting, {\n        userInfos: userInfos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Betting, {\n        userInfos: userInfos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Betting, {\n        userInfos: userInfos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Reward, {\n      children: /*#__PURE__*/_jsxDEV(BetsButton, {\n        children: \"Collect rewards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Homepage, \"GyRFJw+mI/nJ+Bp4FgwZRxWJuQE=\");\n\n_c = Homepage;\nconst Main = styled.main`\n\theight: 100vh;\n\tbackground: linear-gradient(0deg, #030a1a 0%, rgba(1, 1, 1, 1) 100%);\n`;\n_c2 = Main;\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tgap: 5%;\n`;\n_c3 = Container;\nconst Categories = styled.div`\n\tmargin-top: 2rem;\n\twidth: 350px;\n\theight: 75px;\n\tbackground-color: white;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tsvg {\n\t\theight: 60px;\n\t\twidth: 60px;\n\t\tcursor: pointer;\n\t\t&.active {\n\t\t\tbackground-color: #2172e5;\n\t\t\tborder-radius: 0.8rem;\n\t\t\tcolor: white;\n\t\t}\n\t}\n`;\nconst Reward = styled.div`\n\tmargin-top : 5%;\n\tmargin-left: 40%;\n\tgrid-area: reward;\n\tbackground-color: #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n    flex-direction: column;\n\twidth: 20%;\n`;\n_c4 = Reward;\nconst BetsButton = styled.button`\n\tbackground-color: #2f3031;\n\tcolor: white;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n`;\n_c5 = BetsButton;\nexport default Homepage;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Homepage\");\n$RefreshReg$(_c2, \"Main\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"Reward\");\n$RefreshReg$(_c5, \"BetsButton\");","map":{"version":3,"sources":["/Users/gianningamy/cryptobet/front-end/master/src/Pages/Homepage.jsx"],"names":["React","useState","useEffect","styled","Betting","BiFootball","BiBasketball","BiTennisBall","MdSportsRugby","Navbar","Portfolio","Web3","Homepage","userInfos","setUserInfos","account","balance","network","contract","idCurrentGame","selectedAccount","setSelectedAccount","logAccount","provider","window","ethereum","web3","request","method","then","accounts","catch","err","console","log","on","utils","fromWei","eth","getBalance","net","getNetworkType","status","methods","currentGameId","call","location","reload","Main","main","Container","div","Categories","Reward","BetsButton","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Betting from \"../Components/Betting\"\nimport { BiFootball, BiBasketball, BiTennisBall } from \"react-icons/bi\"\nimport { MdSportsRugby } from \"react-icons/md\"\nimport Navbar from \"../Components/Navbar\"\nimport Portfolio from \"../Components/Portfolio\"\nimport Web3 from 'web3'\n\nconst Homepage = () => {\n\tconst [userInfos, setUserInfos] = useState({account: \"Not connected\",\n\t\t \t\t    balance: \"0\",\n\t\t     \t\tnetwork: \"Not connected\",\n\t\t     \t\tcontract: \"0x6A39369b186168D8470cC7b29Ab43E3C794AabD4\",\n\t\t     \t\tidCurrentGame: 0\n\t\t     \t});\n\tconst [selectedAccount, setSelectedAccount] = useState(\"\");\n\tasync function logAccount(){\n\t \tlet provider = window.ethereum;\n\t \tconst web3 = new Web3(window.ethereum);\n\t \tif (typeof provider !== 'undefined') {\n\t \t\tawait provider\n\t \t\t\t.request({ method: 'eth_requestAccounts' })\n\t \t\t\t\t.then((accounts) => {\n\t \t\t\t\tsetSelectedAccount(accounts[0]);\n\t \t\t\t})\n\t \t\t\t.catch((err) => {\n\t \t\t\t\tconsole.log(err);\n\t \t\t\t\treturn;\n\t \t\t\t});\n\n\t \t\tawait window.ethereum.on('accountsChanged', function (accounts) {\n\t \t\t\tsetSelectedAccount(accounts[0]);\n\t \t\t});\n\t \t\t\n\t \t\tif(selectedAccount != \"\"){\n\t\t \t\tsetUserInfos({ \n\t\t \t\t    account: selectedAccount,\n\t\t \t\t    balance: await web3.utils.fromWei(await web3.eth.getBalance(selectedAccount), 'ether'),\n\t\t     \t\tnetwork: await web3.eth.net.getNetworkType(),\n\t\t     \t\tcontract: \"0x6A39369b186168D8470cC7b29Ab43E3C794AabD4\",\n\t\t     \t\tstatus: \"connected\",\n\t\t     \t\tidCurrentGame: await contract.methods.currentGameId.call().call()\n\t\t \t\t});\n\t\t \t\tconsole.log(setUserInfos.idCurrentGame);\n\t\t \t}\n\t \t}\n\t}\n\tuseEffect(() => {\n\t\tlogAccount();\n        if (window.ethereum) {\n            window.ethereum.on(\"chainChanged\", () => {\n                window.location.reload()\n            })\n            window.ethereum.on(\"accountsChanged\", () => {\n                window.location.reload()\n            })\n        }\n    }, [selectedAccount])\n\treturn (\n\t\t<Main>\n\t\t\t<Navbar userInfos={userInfos}/>\n\t\t\t<Container>\n\t\t\t\t<Betting userInfos={userInfos}/>\n\t\t\t\t<Betting userInfos={userInfos}/>\n\t\t\t\t<Betting userInfos={userInfos}/>\n\t\t\t</Container>\n\t\t\t<Reward>\n\t\t\t\t<BetsButton >Collect rewards</BetsButton>\n\t\t\t</Reward>\n\t\t</Main>\n\t)\n}\n\nconst Main = styled.main`\n\theight: 100vh;\n\tbackground: linear-gradient(0deg, #030a1a 0%, rgba(1, 1, 1, 1) 100%);\n`\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tgap: 5%;\n`\nconst Categories = styled.div`\n\tmargin-top: 2rem;\n\twidth: 350px;\n\theight: 75px;\n\tbackground-color: white;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tsvg {\n\t\theight: 60px;\n\t\twidth: 60px;\n\t\tcursor: pointer;\n\t\t&.active {\n\t\t\tbackground-color: #2172e5;\n\t\t\tborder-radius: 0.8rem;\n\t\t\tcolor: white;\n\t\t}\n\t}\n`\n\nconst Reward = styled.div`\n\tmargin-top : 5%;\n\tmargin-left: 40%;\n\tgrid-area: reward;\n\tbackground-color: #191b1f;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n\tdisplay: flex;\n    flex-direction: column;\n\twidth: 20%;\n`\n\nconst BetsButton = styled.button`\n\tbackground-color: #2f3031;\n\tcolor: white;\n\tpadding: 0.5rem;\n\tborder-radius: 0.5rem;\n`\n\nexport default Homepage\n"]},"metadata":{},"sourceType":"module"}